<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Why %CPU is a misleading metric</title>
    <link>https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002</link>
    <description>Your friendly neighborhood ops troll is back!

Here&#39;s a good article on why looking at %CPU (CPU utilization) is a misleading metric when using tools such as top. The normal inclination is to thing that a 90% utilization report means the CPU actually means it&#39;s being used 90% of the time, right? You already know from the title I&#39;m gonna tell you that&#39;s wrong.

The tl;dr is that there is a bottleneck accessing main memory, which results in a lot of cycles that applications spend waiting on memory, falsely reporting that the CPU is &quot;utilized&quot;.

IPC (instructions per cycle) is a more accurate measurement of utilization and this article points to a few good examples of how to check that and tune apps that might be CPU-bound or memory-bound.

http://www.brendangregg.com/blog/2017-05-09/cpu-utilization-is-wrong.html</description>
    
    <lastBuildDate>Fri, 22 Dec 2017 00:33:42 +0000</lastBuildDate>
    <category>Operations</category>
    <atom:link href="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Why %CPU is a misleading metric</title>
        <dc:creator><![CDATA[oaktree]]></dc:creator>
        <description><![CDATA[
            
          <p><a href="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002/12">Read full topic</a></p>
        ]]></description>
        <link>https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002/12</link>
        <pubDate>Fri, 22 Dec 2017 00:57:34 +0000</pubDate>
        <guid isPermaLink="false">d.clarkee.co.uk-post-2002-12</guid>
        <source url="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002.rss">Why %CPU is a misleading metric</source>
      </item>
      <item>
        <title>Why %CPU is a misleading metric</title>
        <dc:creator><![CDATA[fraq]]></dc:creator>
        <description><![CDATA[
            
          <p><a href="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002/11">Read full topic</a></p>
        ]]></description>
        <link>https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002/11</link>
        <pubDate>Fri, 22 Dec 2017 00:33:42 +0000</pubDate>
        <guid isPermaLink="false">d.clarkee.co.uk-post-2002-11</guid>
        <source url="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002.rss">Why %CPU is a misleading metric</source>
      </item>
      <item>
        <title>Why %CPU is a misleading metric</title>
        <dc:creator><![CDATA[IoTh1nkN0t]]></dc:creator>
        <description><![CDATA[
            <p>I do but when you have say 2 out of the max of 5 thats 0.4, times 100% (times 1 I know) = 40% in that sense.<br>
That was a pretty bad necrobump btw <img src="https://0x00sec.org/images/emoji/twitter/smirk.png?v=9" title=":smirk:" class="emoji" alt=":smirk:"></p>
          <p><a href="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002/10">Read full topic</a></p>
        ]]></description>
        <link>https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002/10</link>
        <pubDate>Sat, 22 Jul 2017 02:01:35 +0000</pubDate>
        <guid isPermaLink="false">d.clarkee.co.uk-post-2002-10</guid>
        <source url="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002.rss">Why %CPU is a misleading metric</source>
      </item>
      <item>
        <title>Why %CPU is a misleading metric</title>
        <dc:creator><![CDATA[oaktree]]></dc:creator>
        <description><![CDATA[
            
          <p><a href="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002/9">Read full topic</a></p>
        ]]></description>
        <link>https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002/9</link>
        <pubDate>Fri, 21 Jul 2017 22:28:33 +0000</pubDate>
        <guid isPermaLink="false">d.clarkee.co.uk-post-2002-9</guid>
        <source url="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002.rss">Why %CPU is a misleading metric</source>
      </item>
      <item>
        <title>Why %CPU is a misleading metric</title>
        <dc:creator><![CDATA[fraq]]></dc:creator>
        <description><![CDATA[
            <p>Almost by definition, if you’re doing performance tuning on a production system, you’re not a regular user. You’re an advanced user and almost certainly a professional.</p>
          <p><a href="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002/7">Read full topic</a></p>
        ]]></description>
        <link>https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002/7</link>
        <pubDate>Mon, 22 May 2017 13:53:52 +0000</pubDate>
        <guid isPermaLink="false">d.clarkee.co.uk-post-2002-7</guid>
        <source url="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002.rss">Why %CPU is a misleading metric</source>
      </item>
      <item>
        <title>Why %CPU is a misleading metric</title>
        <dc:creator><![CDATA[IoTh1nkN0t]]></dc:creator>
        <description><![CDATA[
            <p>well they could just divide it by the max ipc and then do * 100%</p>
          <p><a href="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002/6">Read full topic</a></p>
        ]]></description>
        <link>https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002/6</link>
        <pubDate>Fri, 12 May 2017 18:32:17 +0000</pubDate>
        <guid isPermaLink="false">d.clarkee.co.uk-post-2002-6</guid>
        <source url="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002.rss">Why %CPU is a misleading metric</source>
      </item>
      <item>
        <title>Why %CPU is a misleading metric</title>
        <dc:creator><![CDATA[anon79434934]]></dc:creator>
        <description><![CDATA[
            <p>The big problem is that the IPC unit you talk about is too advanced for the regular computer user to understand ¯\<em>(ツ)</em>/¯</p>
          <p><a href="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002/5">Read full topic</a></p>
        ]]></description>
        <link>https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002/5</link>
        <pubDate>Thu, 11 May 2017 20:07:56 +0000</pubDate>
        <guid isPermaLink="false">d.clarkee.co.uk-post-2002-5</guid>
        <source url="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002.rss">Why %CPU is a misleading metric</source>
      </item>
      <item>
        <title>Why %CPU is a misleading metric</title>
        <dc:creator><![CDATA[TheDoctor]]></dc:creator>
        <description><![CDATA[
            <p>If I correctly understood the article it actually really measures IPC per second (In an example it measured per 10 secs) and then just gives you the average.<br>
Or I’m wrong; then ignore me…</p>
          <p><a href="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002/4">Read full topic</a></p>
        ]]></description>
        <link>https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002/4</link>
        <pubDate>Thu, 11 May 2017 14:28:16 +0000</pubDate>
        <guid isPermaLink="false">d.clarkee.co.uk-post-2002-4</guid>
        <source url="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002.rss">Why %CPU is a misleading metric</source>
      </item>
      <item>
        <title>Why %CPU is a misleading metric</title>
        <dc:creator><![CDATA[fraq]]></dc:creator>
        <description><![CDATA[
            <p>No, I actually do mean Instructions Per Cycle. IPC is measured as the number of instructions per tick that can be retired (on a 4 wide system, the max is 4). In his real-world sampling, he had an average of 0.7 IPC on a system capable of 4. Why would that be? Instructions aren’t getting retired because they’re waiting on something.</p>
          <p><a href="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002/3">Read full topic</a></p>
        ]]></description>
        <link>https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002/3</link>
        <pubDate>Thu, 11 May 2017 13:10:18 +0000</pubDate>
        <guid isPermaLink="false">d.clarkee.co.uk-post-2002-3</guid>
        <source url="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002.rss">Why %CPU is a misleading metric</source>
      </item>
      <item>
        <title>Why %CPU is a misleading metric</title>
        <dc:creator><![CDATA[IoTh1nkN0t]]></dc:creator>
        <description><![CDATA[
            <p>Don’t you mean instructions per second? Because instructions per cycle are probably maxed most of the time, since that number would be rather low, depending on the paralelization capabilities of the CPU.  A simple risc processor would have something like 5 instruction per cycle while it may have millions of instructions per second. I’d say the instructions per cycle doesn’t really matter as long as you know the max number of instructions per second and the actual instructions per second, then again the max instructions per second is something that would never be achieved, except when you have a perfect set of threads running, each running machine code in such a way that the optimization has maximum potential. This is what I understood from processors, but I might be wrong entirely.<br>
Perhaps the most useful measurement would be: instructions per cycle per second.</p>
          <p><a href="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002/2">Read full topic</a></p>
        ]]></description>
        <link>https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002/2</link>
        <pubDate>Thu, 11 May 2017 13:06:00 +0000</pubDate>
        <guid isPermaLink="false">d.clarkee.co.uk-post-2002-2</guid>
        <source url="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002.rss">Why %CPU is a misleading metric</source>
      </item>
      <item>
        <title>Why %CPU is a misleading metric</title>
        <dc:creator><![CDATA[fraq]]></dc:creator>
        <description><![CDATA[
            <p>Your friendly neighborhood ops troll is back!</p>
<p>Here’s a good article on why looking at %CPU (CPU utilization) is a misleading metric when using tools such as top. The normal inclination is to thing that a 90% utilization report means the CPU actually means it’s being used 90% of the time, right? You already know from the title I’m gonna tell you that’s wrong.</p>
<p>The tl;dr is that there is a bottleneck accessing main memory, which results in a lot of cycles that applications spend waiting on memory, falsely reporting that the CPU is “utilized”.</p>
<p>IPC (instructions per cycle) is a more accurate measurement of utilization and this article points to a few good examples of how to check that and tune apps that might be CPU-bound or memory-bound.</p>
<p><a href="http://www.brendangregg.com/blog/2017-05-09/cpu-utilization-is-wrong.html" class="onebox" target="_blank" rel="nofollow noopener">http://www.brendangregg.com/blog/2017-05-09/cpu-utilization-is-wrong.html</a></p>
          <p><a href="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002/1">Read full topic</a></p>
        ]]></description>
        <link>https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002/1</link>
        <pubDate>Tue, 09 May 2017 23:22:37 +0000</pubDate>
        <guid isPermaLink="false">d.clarkee.co.uk-post-2002-1</guid>
        <source url="https://d.clarkee.co.uk/t/why-cpu-is-a-misleading-metric/2002.rss">Why %CPU is a misleading metric</source>
      </item>
  </channel>
</rss>
