<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Routing Protocols ~ OSPF - Networking - 0x00sec - The Home of the Hacker</title>
    <meta name="description" content="Long time no see, homies and homettes (probably none). Anyway, today I will do my best to explain to you one of the most widely known and used protocols for internet routing, known as OSPF. This post is not beginner frie&amp;hellip;">
    <meta name="generator" content="Discourse 3.6.0.beta2-latest - https://github.com/discourse/discourse version 3b1964f3ed8bdc2f181e2abccb1b116e4b814db5">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/30c4e7d76acf879a124fdfe4d8d126afe628c189_2_32x32.html">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/c/c5e37f667fd0fe006ffa67653c662fb64fec597e_2_180x180.html">
<meta name="theme-color" media="all" content="#171616">

<meta name="color-scheme" content="dark">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="647.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="0x00sec - The Home of the Hacker Search">

    
    <link href="../../stylesheets/color_definitions_0x00sec-v2_15_57_dfa17f5b2e0faf8b274cd749dd7dab92384218d4.css_%3b%20filename_%3dUTF-8%27%27color_definitions_0x00sec-v2_15_57_dfa17f5b2e0faf8b274cd749dd7dab92384218d4a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" class="light-scheme" data-scheme-id="15"/>

<link href="../../stylesheets/common_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27common_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="common"  />

  <link href="../../stylesheets/mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(max-width: 39.99999rem)" rel="stylesheet" data-target="mobile"  />
  <link href="../../stylesheets/desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(min-width: 40rem)" rel="stylesheet" data-target="desktop"  />



    <link href="../../stylesheets/chat_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27chat_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="chat"  />
    <link href="../../stylesheets/checklist_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27checklist_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="checklist"  />
    <link href="../../stylesheets/discourse-cakeday_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-cakeday_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-cakeday"  />
    <link href="../../stylesheets/discourse-details_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-details_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="../../stylesheets/discourse-lazy-videos_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-lazy-videos_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="../../stylesheets/discourse-local-dates_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-local-dates_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="../../stylesheets/discourse-narrative-bot_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-narrative-bot_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="../../stylesheets/discourse-presence_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-presence_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="../../stylesheets/discourse-solved_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-solved_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-solved"  />
    <link href="../../stylesheets/discourse-templates_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-templates_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-templates"  />
    <link href="../../stylesheets/discourse-topic-voting_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-topic-voting_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-topic-voting"  />
    <link href="../../stylesheets/docker_manager_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27docker_manager_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="../../stylesheets/footnote_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27footnote_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="../../stylesheets/poll_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27poll_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="poll"  />
    <link href="../../stylesheets/spoiler-alert_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27spoiler-alert_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="../../stylesheets/chat_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27chat_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(max-width: 39.99999rem)" rel="stylesheet" data-target="chat_mobile"  />
    <link href="../../stylesheets/discourse-solved_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-solved_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(max-width: 39.99999rem)" rel="stylesheet" data-target="discourse-solved_mobile"  />
    <link href="../../stylesheets/discourse-topic-voting_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-topic-voting_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(max-width: 39.99999rem)" rel="stylesheet" data-target="discourse-topic-voting_mobile"  />
    <link href="../../stylesheets/chat_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27chat_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(min-width: 40rem)" rel="stylesheet" data-target="chat_desktop"  />
    <link href="../../stylesheets/discourse-topic-voting_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-topic-voting_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(min-width: 40rem)" rel="stylesheet" data-target="discourse-topic-voting_desktop"  />
    <link href="../../stylesheets/poll_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27poll_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(min-width: 40rem)" rel="stylesheet" data-target="poll_desktop"  />

  <link href="../../stylesheets/common_theme_57_2b2f1b92f8727e7da2866f327e36ad944c6960db.css_%3b%20filename_%3dUTF-8%27%27common_theme_57_2b2f1b92f8727e7da2866f327e36ad944c6960dba97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="57" data-theme-name="0x00sec-v2"/>
    <link href="../../stylesheets/mobile_theme_4_7b59060f894813801912cfad9deff99ebb9e9a38.css_%3b%20filename_%3dUTF-8%27%27mobile_theme_4_7b59060f894813801912cfad9deff99ebb9e9a38a97f.css?__ws=d.clarkee.co.uk" media="(max-width: 39.99999rem)" rel="stylesheet" data-target="mobile_theme" data-theme-id="4" data-theme-name="mobile chrome"/>
    <link href="../../stylesheets/desktop_theme_46_ae6f300d6e65399f845f6707524095726ad69a96.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_46_ae6f300d6e65399f845f6707524095726ad69a96a97f.css?__ws=d.clarkee.co.uk" media="(min-width: 40rem)" rel="stylesheet" data-target="desktop_theme" data-theme-id="46" data-theme-name="header links v2"/>

    <link rel="stylesheet" href="../../../external.html?link=https://s3.amazonaws.com/0x00sec/monokai-sublime.css">
<script src="../../../external.html?link=https://s3.amazonaws.com/0x00sec/highlight.pack.js" nonce="0ARQpT0CAZL8ZV5rpFBQ3kMLo"></script>
<script defer="" src="../../theme-javascripts/05954ff525aceb8daa8b585f92d758d311ae7077.js_%3b%20filename_%3dUTF-8%27%2705954ff525aceb8daa8b585f92d758d311ae7077a97f.js?__ws=d.clarkee.co.uk" data-theme-id="40" nonce="0ARQpT0CAZL8ZV5rpFBQ3kMLo"></script>
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Routing Protocols ~ OSPF&#39;" href="647.rss" />
    <meta property="og:site_name" content="0x00sec - The Home of the Hacker" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://0x00sec.s3.amazonaws.com/original/1X/d583060c8a34af9ff64f18246c592ae7587e882b.png" />
<meta property="og:image" content="https://0x00sec.s3.amazonaws.com/original/1X/d583060c8a34af9ff64f18246c592ae7587e882b.png" />
<meta property="og:url" content="https://d.clarkee.co.uk/t/routing-protocols-ospf/647" />
<meta name="twitter:url" content="https://d.clarkee.co.uk/t/routing-protocols-ospf/647" />
<meta property="og:title" content="Routing Protocols ~ OSPF" />
<meta name="twitter:title" content="Routing Protocols ~ OSPF" />
<meta property="og:description" content="Long time no see, homies and homettes (probably none). Anyway, today I will do my best to explain to you one of the most widely known and used protocols for internet routing, known as OSPF. This post is not beginner friendly, and is kind of long, so hang in there. The article consists of theory and hands-on material ‚Äì the latter being my favorite.  WARNING: This is not going to be a programming-style article. You will get bombarded with a lot of theory first and then we will get our hands dirty ..." />
<meta name="twitter:description" content="Long time no see, homies and homettes (probably none). Anyway, today I will do my best to explain to you one of the most widely known and used protocols for internet routing, known as OSPF. This post is not beginner friendly, and is kind of long, so hang in there. The article consists of theory and hands-on material ‚Äì the latter being my favorite.  WARNING: This is not going to be a programming-style article. You will get bombarded with a lot of theory first and then we will get our hands dirty ..." />
<meta property="og:article:section" content="Networking" />
<meta property="og:article:section:color" content="8C6238" />
<meta property="og:article:tag" content="ospf" />
<meta property="og:article:tag" content="routing" />
<meta property="og:article:tag" content="networking" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="6 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="19 ‚ù§" />
<meta property="article:published_time" content="2016-06-23T15:43:32+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    <div id="top-navbar" class="container">
<span id="top-navbar-links" style="display:none;">
  <!--<a href="https://git.0x00sec.org" class="dow-menu">GitLab</a>  
  <a href="https://blog.0x00sec.org/irc" class="dow-menu">IRC</a>!-->
  <a href="../../../external.html?link=https://init.0x00sec.org/" class="dow-menu">Init</a>
  <a href="../../../external.html?link=https://discord.gg/c6BHVfn" class="dow-menu">Discord</a>
  <a href="../../../external.html?link=https://init.0x00sec.org/?partners" class="dow-menu">Partners</a>
</span>
</div>
    <header>
  <a href="../../index.html">0x00sec - The Home of the Hacker</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="647.html">Routing Protocols ~ OSPF</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/networking/63.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #8C6238'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Networking</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='../../tag/ospf.html' class='discourse-tag' rel="tag">ospf</a>, 
            <a href='../../tag/routing.html' class='discourse-tag' rel="tag">routing</a>, 
            <a href='../../tag/networking.html' class='discourse-tag' rel="tag">networking</a>
        </div>
      </div>
  </div>

  

    <div itemscope itemtype='../../../external.html?link=http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Routing Protocols ~ OSPF'>
      <link itemprop='url' href='647.html'>
      <meta itemprop='datePublished' content='2016-06-23T15:43:32Z'>
        <meta itemprop='articleSection' content='Networking'>
      <meta itemprop='keywords' content='ospf, routing, networking'>
      <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
        <meta itemprop='name' content='0x00sec - The Home of the Hacker'>
          <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
            <meta itemprop='url' content='../../uploads/default/original/2X/c/c5e37f667fd0fe006ffa67653c662fb64fec597e.html'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/_py.html'><span itemprop='name'>_py</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="647.html">

                <link itemprop="image" href="../../../0x00sec.s3.amazonaws.com/original/1X/d583060c8a34af9ff64f18246c592ae7587e882b.png">

              <span class="crawler-post-infos">
                  <time  datetime='2016-06-23T15:43:32Z' class='post-time'>
                    June 23, 2016,  3:43pm
                  </time>
                  <meta itemprop='dateModified' content='2016-06-24T22:58:36Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Long time no see, homies and homettes (probably none). Anyway, today I will do my best to explain to you one of the most widely known and used protocols for internet routing, known as <strong>OSPF</strong>. This post is not beginner friendly, and is kind of long, so hang in there. The article consists of theory and hands-on material ‚Äì the latter being my favorite.</p>
<p><em><strong>WARNING: This is not going to be a programming-style article. You will get bombarded with a lot of theory first and then we will get our hands dirty a little bit. Unfortunately, this is how networking is; if you don‚Äôt know the big picture/theory you can‚Äôt really make things happen. Feel free to click away if you don‚Äôt want to learn too much theory.</strong></em></p>
<p>Let‚Äôs start with an opinionated rant. Hacking or ‚Äúbreaking‚Äù, or however you want to call it, isn‚Äôt about using tools that automate certain processes in order to steal some credentials or do some recon or whatever you please. The <em>real</em> deal is knowing why these tools work and how. The people who make these tools know exactly what they are doing and that‚Äôs why they will always be ahead of everyone who just uses the tools. So get it through your head: adding some flags on <code>nmap</code> or just firing up <code>metasploit</code> and selecting some modules means absolutely nothing. Again, <strong>this is my opinion</strong>. I‚Äôm not saying I‚Äôm an expert or that I know my shit. I consider myself quite a newbie, but since this is a community, I wanted to express my opinion since I‚Äôm going to connect this little rant to the purpose of this article.</p>
<p>So, now that I have your attention, let‚Äôs get back to our topic. You want to hack a company‚Äôs network or intercept their traffic, huh? Well, in order to do that, you have to actually get inside their network; and, in order to do <em>that</em>, you need to know <em>how</em> their network works.</p>
<p>Forget about <code>nmap</code> and scanning and all this crap. Let‚Äôs take the hard route. And by <em>route</em>, I mean the OSPF way. Routers are the first line of defense. If you know how they operate, you can make things happen, if you know what I mean‚Ä¶ Routers use routing tables in order to get you to where you want to go. A routing table is an information table used by every router in order to find the appropriate path for your request.</p>
<hr>
<h1>Theory Time</h1>
<p><em><strong>NOTE:</strong></em> <em>Every routing protocol has an algorithm running behind it. In our case, OSPF is using Dijkstra‚Äôs algorithm. If you are interested in it, be sure to check out <a href="../../../external.html?link=https://0x00sec.org/t/graph-algorithms-part-1-0-dijkstras-shortest-path-concept/419">this article</a> made by <a class="mention" href="../../u/oaktree.html">@oaktree</a>. It‚Äôs worth the time.</em></p>
<p>Most networks nowadays use either <a href="../../../external.html?link=https://en.wikipedia.org/wiki/Open_Shortest_Path_First" rel="noopener nofollow ugc">OSPF</a> or <a href="../../../external.html?link=https://en.wikipedia.org/wiki/Border_Gateway_Protocol" rel="noopener nofollow ugc">BGP</a> as the main routing protocol. Some may use static routing as well. But hey, I‚Äôve been talking about routing protocols without even telling you what they really do. Well, I bet most of you have guessed it already but this is my short definition:</p>
<p><strong>Routing Protocol - Tell your neighbors what you know.</strong></p>
<p>I‚Äôm not going to get into more detail. If you are curious about it, I invite you to do some research. Anyway, let‚Äôs have a look at the picture below.</p>
<p><img src="../../../0x00sec.s3.amazonaws.com/original/1X/d583060c8a34af9ff64f18246c592ae7587e882b.png" width="583" height="240"></p>
<p>This picture is a virtual networking environment I set up in GNS3. GNS3 (Graphical Network Simulator) is one of my all-time favorite programs. Its name describes precisely what it does. I would highly recommend looking it up. I‚Äôve also assigned IPs to the routers (depicted above) and I have made note of them for clarity‚Äôs sake.</p>
<p>Before we dive into OSPF and how to get OSPF working, let‚Äôs take a step back: Back in the old days, when people were turning on their routers for the first time, the routers did not know all the possible routes to every website on the Internet out of the box. People actually had to configure them.</p>
<p>Dammit, I spoiled the surprise. Routers knew only about the networks they were plugged into.</p>
<p>Now, what does OSPF do? It lets our routers have a discussion about what they think is most interesting. R1 is going to tell R2 everything it knows (and it knows about networks that it‚Äôs plugged into, such as the 10.0.0 and 10.0.1 networks). Why? Because I, as an administrator, configured it to that network. Don‚Äôt worry about the configuration part, it will make sense soon. Focus!</p>
<p>So R1 is going to say to R2 ‚Äúhey mate, I know about the 10.0.0 and 10.0.1 network!‚Äù and R2 is going to reply back ‚Äúfantastic! I knew about 10.0.1 but god damn I didn‚Äôt know about 10.0.0 at all. I‚Äôm going to add it into my routing table and I‚Äôm going to use you as my next hop to get there because you told me about it.‚Äù</p>
<p>Okay that‚Äôs interesting and all, but that‚Äôs how every routing protocol works, from a high-level perspective. What really differentiates OSPF from other routing protocols? Well, OSPF uses a ‚Äúhello‚Äù packet. This packet includes all kinds of cool information, such as:</p>
<ul>
<li>Timers</li>
<li>Area</li>
<li>Authentication</li>
<li>Subnet Mask</li>
</ul>
<p>The very first packet R1 will send is a ‚Äúhello‚Äù packet. Let‚Äôs talk about the ‚ÄúTimers‚Äù first. R1 is going to send this packet, which will have a message in it saying, ‚Äúhey, I say hello every 5 seconds and I have a dead timer of 30 seconds.‚Äù What does that mean to R2, though? R2 will think ‚Äúwell, I can expect a ‚Äòhey man‚Äô by R1 every 5 seconds to show me that he is online and available. Finally, if I don‚Äôt hear about R1 in 30 seconds, I will consider him dead and I will mark his networks unreachable.‚Äù That‚Äôs how R1 thinks about R2 as well. The reason why this hello and the dead timer are big deals is because OSPF is quite picky its neighbor relationship establishment. If the timers in the hello packets between R1 and R2 don‚Äôt match, let‚Äôs say R2 says hello every 1 second, they are not going to form a neighbor relationship. Timers MUST match. FYI: you can adjust the timer settings, but let‚Äôs not focus on that now‚Ä¶</p>
<p>Second, the ‚ÄúArea‚Äù <em>must</em> match. What‚Äôs an Area though? Let me give you the high level view and we will discuss more about Areas in a different article.</p>
<p>OSPF allows you to break the network up into groups of networks. All networks in a company start kinda small and expand with time: they add more offices and they get to the point where they have 10,20,30,60 offices all around the world and it starts feeling a bit chaotic. They have all these routers connected together and the routing tables are getting bigger and bigger and bigger. Here‚Äôs a fact: <em>The bigger the routing table, the slower the router.</em> Makes sense, right? So our goal as network administrators is to keep our routing tables small. Areas is what will help us accomplish that. As the offices grow, we split this huge group of routers into an Area, named Area 0.</p>
<p>Now this Area 0 happens to be really special: it‚Äôs the very first area created by OSPF. In fact, you can‚Äôt run OSPF without designating an area. For what we are going to talk about, everything will be in Area 0.</p>
<p>How big can that area be? As big as you want it to be ‚Äì 50, 100, 1000 routers? Sure, why not. Yet, as the area grows bigger, you will need more areas because the routers will start running out of memory. So, after a certain amount of offices, we, as admins, will start dividing the network into more areas.</p>
<p>HUGE concept incoming‚Ä¶</p>
<p><strong>Areas show a point of summarization.</strong></p>
<p>It‚Äôs like a point where you are able to summarize entries in your routing table to simplify a large network. Area must match, meaning that, if R2 and R1 do not belong to the same area, they won‚Äôt form neighbor relationship. Areas are a massive concept, so I will analyze them with you in a different post. Right now, let‚Äôs just focus on the high-level stuff because it‚Äôs more important.</p>
<p>Furthermore, there has to be matched authentication. For example, there can be a passcode ‚Äúl337‚Äù in the packet, which would mean that two routers can only become neighbors if they both have the same passcode.</p>
<p>Lastly, they have to have the same Subnet Mask, meaning both routers have to belong to a /24 or /16 network, and so on. If all of these aspects match up, then the ‚Äúhello‚Äù is accepted by both routers and they will start exchanging routes.</p>
<hr>
<h1>Hands-on Time</h1>
<p>Alright, now that we are done with the theory (there is actually a lot more, but itt doesn‚Äôt belong in this article), it‚Äôs time to get OSPF working. I‚Äôm going to add the same picture as the 1st one so you won‚Äôt have to scroll up. Keep in mind that my goal is to show you what is going on under the hood. You don‚Äôt have to know the configuration commands. I just want to show you how a network engineer may have configured your router‚Äôs protocols.</p>
<p><img src="../../../0x00sec.s3.amazonaws.com/original/1X/6840c5bf88b444c6497e1f2f6a4ef1f3b0e85cc2.png" width="583" height="240"></p>
<p>So let‚Äôs imagine this is a network. R1 can communicate with R2 and R3, but R2 and R3 can only communicate with R1. You might think that because R1 is plugged into both networks, R2 or R3 would know about each other, yet that‚Äôs not true and I‚Äôm going to prove it to you.</p>
<p>Remember when I said some paragraphs ago about ‚Äúconfiguring‚Äù? Well, I did configure those routers using the Cisco IOS, which is integrated in GNS3. In other words, those routers are Cisco devices and I can configure them because their software is running inside GNS3. So I‚Äôm going to use the commands Cisco uses to configure their routers.</p>
<p>Now, you may be thinking, ‚Äúhow is this helpful? I don‚Äôt even own a Cisco router.‚Äù Well, that‚Äôs why GNS3 exists. My goal is to teach you how it works for now and not how to do it. You may also be saying ‚Äúwell, not all routers are Cisco, thus, the configuration will be different.‚Äù True, the commands will be different, but the OSPF procedure stays the same. In the end, I don‚Äôt know everything, man!</p>
<p><em><strong>Note:</strong></em> <em>This is not a GNS3 tutorial so I won‚Äôt explain how I set it up. I can make a post on how to install it, though, if anyone is interested, or you can google.</em></p>
<p>Let‚Äôs get back to the proof I was talking about. I‚Äôm going to open a console connection for R2 inside GNS3. All I have configured so far is just the addresses on the interfaces which you can see in the picture above.</p>
<p><em><strong>Note:</strong></em> <em>I‚Äôm not going to get into how I assigned those IP addresses with the Cisco IOS. If you are interested in learning how to configure a Cisco device, I can make a separate series dedicated to switch/router configuration.</em></p>
<p>Anyway, I tried pinging R3 from R2 and here is the result:</p>
<p><img src="../../../0x00sec.s3.amazonaws.com/original/1X/b095a0f9dcf25cbeb8837e1180c0d1c9f4a92fca.png" width="530" height="98"></p>
<p>As you can see: zero success, because, as I told you, R2 knows only about the network its plugged into. We would get the same response if I pinged R2 from R3. But if I ping R1 from R2, we <em>will</em> get a response back:</p>
<p><img src="../../../0x00sec.s3.amazonaws.com/original/1X/8a8c37d1bc42c57112a6fc254ce2b4c84d9d8a17.png" width="580" height="98"></p>
<p>I‚Äôm not lying; they are on the same network ‚Äì therefore, success.</p>
<p>Since we want all the routers to be able to communicate, I think it‚Äôs time we turn OSPF on. Before I get into the configuration, I will write down the steps in order to get it working.</p>
<ul>
<li>Turn on OSPF</li>
<li>Command it what interfaces to use</li>
<li>Enjoy</li>
</ul>
<p>Let‚Äôs start with step 1. In order to do that, the command is: router + protocol + PID.</p>
<h3>STEP 1</h3>
<p><img src="../../../0x00sec.s3.amazonaws.com/original/1X/3c62cda5a4af6a6cd75fa86c04c47706e6edae32.png" width="213" height="21"></p>
<p>The PID(process ID) just identifies the OSPF process to the router. I would recommend using a simple number so you can remember it. I picked 1. The PID of OSPF doesn‚Äôt have to be the same on every router.</p>
<h3>STEP 2</h3>
<p>Step 2 requires a command that is pretty confusing, in my opinion. I mean, it took me hours to understand it so I will try to use my own words in order to describe it. The command is: <code>network</code>. Yes, <code>network</code>. It has its arguments, of course, but before I get into this, let me first tell you what it actually does.</p>
<p>When I type ‚Äúnetwork‚Äù, our router will do 2 things:</p>
<ul>
<li>Identify which interface(s) to use to send hello packets. Let me show you what I mean:</li>
</ul>
<p><img src="../../../0x00sec.s3.amazonaws.com/original/1X/28b4d05356737553a5856d9e78a3480ad670af48.png" width="277" height="23"></p>
<p>What R1 will do is to start sending hello packets on the 10.0.1 interface. Why? Because it wants to find friends to exchange routes.</p>
<ul>
<li>Identify which network(s) to advertise.</li>
</ul>
<p>So, when I type <code>network 10.0.1.2</code>, R1 will form a neighbor relationship with R2 and will simultaneously tell other routers about the 10.0.1 network. That‚Äôs how R3 will get to know about R2; R1 will advertise it.</p>
<p>Now, if you have understood everything so far you would notice that the last command is not going to change anything between R1 and R2 since the network command will just advertise the network 10.0.1 to R2 and R2 already knows about it. So what do we have to type?</p>
<p><img src="../../../0x00sec.s3.amazonaws.com/original/1X/3ba40f25aa632aa0dbc6d4a1e312194f77f014ee.png" width="281" height="17"></p>
<p>So now R1 advertises the 10.0.0 and the 10.0.1 network to both R2 and R3. I hope it starts to make sense now. The command is incomplete, though. It still needs some arguments to let the router know what it should advertise. The full command is this. Don‚Äôt freak out, I will explain it to you argument by argument.</p>
<p><img src="../../../0x00sec.s3.amazonaws.com/original/1X/c3194c720bb2e29b3ccf5ec8211616db5fd6b32a.png" width="417" height="17"></p>
<p>You see that ‚Äú0.0.0.255‚Äù? This is called the wild card bits. It‚Äôs looking wild, right? Think of the wild card bits as identifiers.It‚Äôs a way of showing what the router should really care about. First of all, wild card bits are completely opposite of the subnet mask. Let‚Äôs have a loot at this example.</p>
<p><img src="../../../0x00sec.s3.amazonaws.com/original/1X/013fb7938ae003ed60fccfc173c05ef40facf894.png" width="419" height="89"></p>
<p>No comments about my drawing skills, please. If you know any better way to do this, don‚Äôt embarrass me, just keep it to yourself.</p>
<p>Anyway, do you see those arrows pointing from the <code>0</code>s to the IP octets? Think of these as someone is yelling ‚Äúlook at that!‚Äù. This ‚Äúlook at that‚Äù happens 3 times since there are 3 <code>0</code>s. In other words, those <code>0</code>s tell the router which octets to pay attention to. Thus, the 192.168.1 part. Meaning, the router will advertise the 192.168.1 network and not the just the IP. Isn‚Äôt that much more convenient and more generic? Who would want to advertise the whole IP. The .255 part is saying, ‚Äúdon‚Äôt look at that, it‚Äôs pointless.‚Äù</p>
<p>So this is telling the router to turn on OSPF on interfaces that start with 192.168.1. The .255 means, ‚ÄúI don‚Äôt care what is in that last octet‚Äù.</p>
<p>When I type this command, the router is going to look at its interfaces for 192.168.1. Once it finds it, it‚Äôs going to turn OSPF on. That‚Äôs how the wild card mask works. But what if I want to turn OSPF on on both R1‚Äôs interfaces or on every single interface of R1 for the future as well. Think of it. What would the wild card mask be? I‚Äôll leave that to you.</p>
<p>You may be thinking that‚Äôs easy to do, but at the same it‚Äôs not secure. Why? Well, imagine sending hello packets on every single interface. What if there was a malicious user in a specific network doing some MiTM magic? You would be screwed. The least dangerous scenario would be that a user is messing up your routing table by acting as an OSPF router. Yes, that‚Äôs possible and you definitely don‚Äôt want that.</p>
<p>The last part of this command is the <code>area 0</code> argument. As mentioned before, we are going to focus on Area 0 for now. Remember, in order for routers to communicate, their areas must match.</p>
<p>Here is the result of the previous command, and I do it again for the 10.0.0 network so R1 can advertise it to R2.</p>
<p><img src="../../../0x00sec.s3.amazonaws.com/original/1X/4470b27ffbe0b87653c7cf8685dece6fd04f51bf.png" width="690" height="96"></p>
<p>I think you can understand what just happened. All we have to do now is to turn on OSPF for R2 as well so the routers can start exchanging routes with R1, such as the 10.0.0 network.</p>
<p><img src="../../../0x00sec.s3.amazonaws.com/original/1X/ad5d8328b7024bb63d08b6fadba2320645ef4543.png" width="690" height="70"></p>
<p>Both R2 and R1 have officially turned OSPF on and they just exchanged routes. How do I know that? I will prove it to you. Remember before when I tried pinging R3 from R2 but we weren‚Äôt getting any response back. Well, check out this command first:</p>
<p><img src="../../../0x00sec.s3.amazonaws.com/original/1X/221c049511337ab8edb13cd556f7134e14b5b404.png" width="634" height="224"></p>
<p>Look at that! The ‚Äúshow ip route‚Äù command will show us all the routes R2 knows and as you can tell, it finally knows about the 10.0.0. OSPF did its magic! The ‚Äú[110/20]‚Äù part is the administrative distance and the metric/cost respectively. Let‚Äôs not get into those for now, but there is a formula in order to calculate those, which you can Google it if you want to. The time has come to ping R3 from R2 and see it happening.</p>
<p><img src="../../../0x00sec.s3.amazonaws.com/original/1X/7c6232110308a32734429fd4925c0b13665884b0.png" width="582" height="100"></p>
<p>Ayyy, success!</p>
<h3>STEP 3</h3>
<p><img src="../../../0x00sec.s3.amazonaws.com/original/1X/6949a245cda1308c2eebbf0400c3f37f5353904c.jpg" width="430" height="305"></p>
<p>That was probably one of my longest posts and the toughest to explain. I know that it might be kinda boring, but hopefully you gained some knowledge from this article. OSPF is hard to grasp at first, so give it time. If you are reading this sentence, you are a true champ. I hope this article has been informative and I thank you for taking the time to read it. Feel free to ask any questions.</p>
<p>Later‚Ä¶</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="10" />
              <span class='post-likes'>10 Likes</span>
            </div>


            
          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/0x00pf.html'><span itemprop='name'>0x00pf</span></a>
                (pico)
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2016-06-23T17:21:00Z' class='post-time'>
                    June 23, 2016,  5:21pm
                  </time>
                  <meta itemprop='dateModified' content='2016-06-23T18:22:08Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>We were missing you, but the wait was worth it.</p>
<p>Brilliant post!</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>


            
          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/_py.html'><span itemprop='name'>_py</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2016-06-23T17:26:16Z' class='post-time'>
                    June 23, 2016,  5:26pm
                  </time>
                  <meta itemprop='dateModified' content='2016-06-23T17:26:16Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Thank you <a class="mention" href="../../u/0x00pf.html">@0x00pf</a>! It means a ton coming from you. I hope it wasn‚Äôt too much of a read xD</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>


            
          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/0x00pf.html'><span itemprop='name'>0x00pf</span></a>
                (pico)
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2016-06-23T17:30:19Z' class='post-time'>
                    June 23, 2016,  5:30pm
                  </time>
                  <meta itemprop='dateModified' content='2016-06-23T17:30:19Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>It doesn‚Äôt matter if is long when it is interesting!. Congrats again!</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>


            
          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/Defalt.html'><span itemprop='name'>Defalt</span></a>
                (The Defalt)
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2016-06-23T19:49:32Z' class='post-time'>
                    June 23, 2016,  7:49pm
                  </time>
                  <meta itemprop='dateModified' content='2016-06-23T19:49:32Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Will you be covering the election process in future articles? It‚Äôs important to understand that. It‚Äôs also important to understand how routers forward OSPF.</p>
<p>Just a suggestion.</p>
<p>Great explanation by the way!</p>
<p>-Defalt</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>


            
          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/_py.html'><span itemprop='name'>_py</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2016-06-23T20:26:03Z' class='post-time'>
                    June 23, 2016,  8:26pm
                  </time>
                  <meta itemprop='dateModified' content='2016-07-15T16:29:46Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Yes, I will try to uncover OSPF fully in the upcoming articles.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>


            
          </div>
          <div id='post_7' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/Cromical.html'><span itemprop='name'>Cromical</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2016-06-23T20:40:25Z' class='post-time'>
                    June 23, 2016,  8:40pm
                  </time>
                  <meta itemprop='dateModified' content='2016-06-23T20:40:25Z'>
              <span itemprop='position'>7</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Just awesome. The read was worth it!</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='../../../external.html?link=http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                        <a itemprop='url' href="../../../external.html?link=https://0x00sec.org/t/routing-protocols-ospf-part-ii/658">Routing Protocols ~ OSPF ~ Part II</a>
                        <meta itemprop='position' content='1'>
                      </div>
                </div>

            
          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../index.html' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../categories.html' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../guidelines.html' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../tos.html' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../privacy.html' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    <script src="../../../external.html?link=http://instant.page/3.0.0" type="module" defer="" integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1" nonce="0ARQpT0CAZL8ZV5rpFBQ3kMLo"></script>
  </body>
  
</html>
