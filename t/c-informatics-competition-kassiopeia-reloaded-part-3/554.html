<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>[C#] Informatics Competition - Kassiopeia Reloaded [Part 3] - Programming - 0x00sec - The Home of the Hacker</title>
<meta name="description" content="Hey Mates, 
maybe you’ve seen the different topic name? It’s not necessary, but I thought this change is more suitable. However, you remember the challenge we had last time? This part is about evolving our program from l&amp;hellip;">
<meta name="generator" content="Discourse 3.1.0.beta6 - https://github.com/discourse/discourse version 80a1709965fa59da824b2e3392976fc6fc898f80">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/30c4e7d76acf879a124fdfe4d8d126afe628c189_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/c/c5e37f667fd0fe006ffa67653c662fb64fec597e_2_180x180.png">
<meta name="theme-color" media="all" content="#171616">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="554.html" />
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="0x00sec - The Home of the Hacker Search">
<link href="../../stylesheets/color_definitions_0x00sec-v2_15_57_a5ef387651921c3e4c7aa1108536015ba8299efb.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" class="light-scheme" />
<link href="../../stylesheets/desktop_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="desktop" />
<link href="../../stylesheets/chat_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="chat" />
<link href="../../stylesheets/discourse-details_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-details" />
<link href="../../stylesheets/discourse-lazy-videos_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-lazy-videos" />
<link href="../../stylesheets/discourse-local-dates_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-local-dates" />
<link href="../../stylesheets/discourse-narrative-bot_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-narrative-bot" />
<link href="../../stylesheets/discourse-presence_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-presence" />
<link href="../../stylesheets/discourse-spoiler-alert_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-spoiler-alert" />
<link href="../../stylesheets/docker_manager_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="docker_manager" />
<link href="../../stylesheets/poll_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="poll" />
<link href="../../stylesheets/chat_desktop_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="chat_desktop" />
<link href="../../stylesheets/poll_desktop_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="poll_desktop" />
<link href="../../stylesheets/desktop_theme_46_f36ade55bf80933494fe3b5fab518f477de3bd4e.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="46" data-theme-name="header links v2" />
<link href="../../stylesheets/desktop_theme_57_8c0e890a61cdb4c5833a9f9c96664ed164e7d645.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="57" data-theme-name="0x00sec-v2" />
<link rel="stylesheet" href="https://s3.amazonaws.com/0x00sec/monokai-sublime.css">
<script src="https://s3.amazonaws.com/0x00sec/highlight.pack.js"></script>
<link rel="preload" href="../../theme-javascripts/440fd21108f5ba9e5dfe06cca9fc842569d5a874.js%3F__ws=0x00sec.org" as="script">
<script defer src="../../theme-javascripts/440fd21108f5ba9e5dfe06cca9fc842569d5a874.js%3F__ws=0x00sec.org" data-theme-id="40"></script>
<link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;[C#] Informatics Competition - Kassiopeia Reloaded [Part 3]&#39;" href="554.rss" />
<meta property="og:site_name" content="0x00sec - The Home of the Hacker" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://0x00sec.org/uploads/default/original/2X/2/27a5373af868edade07624e8205c46e79c247445.jpeg" />
<meta property="og:image" content="https://0x00sec.org/uploads/default/original/2X/2/27a5373af868edade07624e8205c46e79c247445.jpeg" />
<meta property="og:url" content="https://0x00sec.org/t/c-informatics-competition-kassiopeia-reloaded-part-3/554" />
<meta name="twitter:url" content="https://0x00sec.org/t/c-informatics-competition-kassiopeia-reloaded-part-3/554" />
<meta property="og:title" content="[C#] Informatics Competition - Kassiopeia Reloaded [Part 3]" />
<meta name="twitter:title" content="[C#] Informatics Competition - Kassiopeia Reloaded [Part 3]" />
<meta property="og:description" content="Hey Mates,  maybe you’ve seen the different topic name? It’s not necessary, but I thought this change is more suitable. However, you remember the challenge we had last time? This part is about evolving our program from last time.   Description Kassiopeia can’t walk about every field as often as she wants anymore. Now she can only walk about every white field one time! The other rules stay the same. If you want you can add a simple animation, which shows how Kassiopeia crawls through the board.  Y..." />
<meta name="twitter:description" content="Hey Mates,  maybe you’ve seen the different topic name? It’s not necessary, but I thought this change is more suitable. However, you remember the challenge we had last time? This part is about evolving our program from last time.   Description Kassiopeia can’t walk about every field as often as she wants anymore. Now she can only walk about every white field one time! The other rules stay the same. If you want you can add a simple animation, which shows how Kassiopeia crawls through the board.  Y..." />
<meta property="og:article:section" content="Programming" />
<meta property="og:article:section:color" content="92278F" />
<meta property="og:article:tag" content="csharp" />
<meta property="og:article:tag" content="programmingchallenge" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 ❤" />
<meta property="article:published_time" content="2016-06-05T07:21:36+00:00" />
<meta property="og:ignore_canonical" content="true" />
</head>
<body class="crawler ">
<div id="top-navbar" class="container">
<span id="top-navbar-links" style="display:none;">

<a href="https://init.0x00sec.org" class="dow-menu">Init</a>
<a href="https://discord.gg/c6BHVfn" class="dow-menu">Discord</a>
<a href="https://init.0x00sec.org/?partners" class="dow-menu">Partners</a>
</span>
</div>
<header>
<a href="../../index.html">
0x00sec - The Home of the Hacker
</a>
</header>
<div id="main-outlet" class="wrap" role="main">
<div id="topic-title">
<h1>
<a href="554.html">[C#] Informatics Competition - Kassiopeia Reloaded [Part 3]</a>
</h1>
<div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
<a href="../../c/programming/61.html" class="badge-wrapper bullet" itemprop="item">
<span class="badge-category-bg" style="background-color: #92278F"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Programming</span>
</span>
</a>
<meta itemprop="position" content="1" />
</span>
</div>
<div class="topic-category">
<div class="discourse-tags list-tags">
<a href="../../tag/csharp.html" class="discourse-tag" rel="tag">csharp</a>,
<a href="../../tag/programmingchallenge.html" class="discourse-tag" rel="tag">programmingchallenge</a>
</div>
</div>
</div>
<div itemscope itemtype="http://schema.org/DiscussionForumPosting">
<meta itemprop="headline" content="[C#] Informatics Competition - Kassiopeia Reloaded [Part 3]">
<meta itemprop="articleSection" content="Programming">
<meta itemprop="keywords" content="csharp, programmingchallenge">
<div itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
<meta itemprop="name" content="0x00sec - The Home of the Hacker">
<div itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
<meta itemprop="url" content="https://0x00sec.org/uploads/default/original/2X/c/c5e37f667fd0fe006ffa67653c662fb64fec597e.png">
</div>
</div>
<div id="post_1" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/TheDoctor"><span itemprop="name">TheDoctor</span></a>
(The C# Dude)
</span>
<link itemprop="mainEntityOfPage" href="554.html">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2016-06-05T07:21:36Z" class="post-time">
June 5, 2016, 7:21am
</time>
<meta itemprop="dateModified" content="2016-06-05T07:52:17Z">
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>Hey Mates,</p>
<p>maybe you’ve seen the different topic name? It’s not necessary, but I thought this change is more suitable. However, you remember the challenge we had last time? This part is about evolving our program from last time.</p>
<hr>
<h2>Description</h2>
<p>Kassiopeia can’t walk about every field as often as she wants anymore. Now she can only walk about every white field <strong>one</strong> time! The other rules stay the same. If you want you can add a simple animation, which shows how Kassiopeia crawls through the board.</p>
<p>You can use the same examples as last time. Download them <a href="https://mega.nz/#!qhgUmCbR!Wndf9uwLnoSbb-5yunylqaPK8sdJzkPE6nFUeq9QEiQ" rel="nofollow noopener">here</a>, if you have not done it already.<br>
<strong>Can Kassiopeia rech all fields?</strong><br>
0) Yes</p>
<ol>
<li>No</li>
<li>No</li>
<li>Yes</li>
<li>No</li>
<li>Yes</li>
<li>No</li>
<li>No</li>
</ol>
<hr>
<h2>My Solution</h2>
<p>I just made some minor changes, because the program is already pretty suitable. The biggest change was the animation part and a new class for storing the global variables, so that we don’t have to give everything everytime (<em>Wow, stylistic device! <img src="../../images/emoji/twitter/sunglasses.png%3Fv=9" title=":sunglasses:" class="emoji" alt=":sunglasses:"></em>) as argument. I’ve also removed the recursion joke <img src="../../images/emoji/twitter/sweat.png%3Fv=9" title=":sweat:" class="emoji" alt=":sweat:">.</p>
<pre><code class="lang-auto">using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

using System.IO;
using System.Threading;

namespace Kassiopeia
{
    class Program
    {
        static void Main(string[] args)
        {

            globals g = new globals();

            while (true)
            {
                //Get file
                String file = input("\nText File: ");

                //Read file / Fill board
                StreamReader f = new StreamReader(file);
                String line;
                int counter = 0;
                while((line = f.ReadLine()) != null)
                {
                    //First line -&gt; Read rows and columns / Create board
                    if (counter == 0)
                    {
                        g.rows = int.Parse(line.Split(' ')[0]);
                        g.cols = int.Parse(line.Split(' ')[1]);

                        g.board = new Char[g.rows, g.cols];
                    }

                    //Else -&gt; Fill board
                    else
                    {
                        for (int i = 0; i &lt; g.cols; i++)
                        {
                            g.board[counter - 1, i] = line[i];
                        }
                    }

                    counter += 1;
                }

                // Test if every field can be reached by only walking about it once
                if (testBoard(g))
                {
                    Console.WriteLine("[*] Kassiopeia can reach all fields!");
                    String ok = input("[#] Do you want to see a nice animation? (Y/n) ");

                    if (ok.ToLower() == "y")
                        animate(g);
                }

                else
                {
                    Console.WriteLine("[!] Kassiopeia can't reach all fields!");
                }
            }
        }

        /// &lt;summary&gt;
        /// Show a sweet animation of our crawling Kassiopeia
        /// &lt;/summary&gt;
        /// &lt;param name="g"&gt;&lt;/param&gt;
        static void animate(globals g)
        {
            for (int i = 0; i &lt; g.connected.Count; i++)
            {
                //If not first element -&gt; Change Kassiopeias position
                if (i != 0)
                {
                    int row = int.Parse(g.connected[i][0].ToString());
                    int col = int.Parse(g.connected[i][1].ToString());

                    int lastRow = int.Parse(g.connected[i - 1][0].ToString());
                    int lastCol = int.Parse(g.connected[i - 1][1].ToString());

                    g.board[lastRow, lastCol] = '°';
                    g.board[row, col] = 'K';
                }

                showBoard(g, i + 1);
            }
        }

        /// &lt;summary&gt;
        /// Prints out the board
        /// &lt;/summary&gt;
        /// &lt;param name="g"&gt;&lt;/param&gt;
        /// &lt;param name="counter"&gt;&lt;/param&gt;
        static void showBoard(globals g, int counter)
        {
            Console.Clear();
            Console.WriteLine("-&lt;&gt;-&lt;&gt;-&lt;&gt;- Step " + counter.ToString() + " of " + g.connected.Count.ToString() + " -&lt;&gt;-&lt;&gt;-&lt;&gt;-");
            for (int row = 0; row &lt; g.rows; row++)
            {
                for(int col = 0; col &lt; g.cols; col++)
                {
                    Console.Write("[" + g.board[row, col] + "] ");
                }

                Console.WriteLine();
            }

            Thread.Sleep(650);
        }

        static bool testBoard(globals g)
        {
            //Count all white fields
            g.lenAll = 0;
            for (int row = 0; row &lt; g.rows; row++)
            {
                for (int col = 0; col &lt; g.cols; col++)
                {
                    if (g.board[row, col] == ' ' || g.board[row, col] == 'K')
                    {
                        g.lenAll += 1;
                    }
                }
            }

            //Find Kassiopeias position as starting point / Run recursive test to find all reachable fields
            for (int row = 0; row &lt; g.rows; row++)
            {
                for (int col = 0; col &lt; g.cols; col++)
                {
                    if (g.board[row, col] == 'K')
                    {
                        g.connected = new List&lt;String&gt;();
                        g.connected.Add(toXyString(row, col));
                        recursiveTestOfDoom(g, row, col);
                        break;
                    }
                }
            }

            //Test if all can be reached
            if (g.connected.Count == g.lenAll)
            {
                return true;
            }

            return false;
        }

        /// &lt;summary&gt;
        /// A recursive test of Doooooooom
        /// &lt;/summary&gt;
        /// &lt;param name="g"&gt;&lt;/param&gt;
        /// &lt;param name="row"&gt;&lt;/param&gt;
        /// &lt;param name="col"&gt;&lt;/param&gt;
        static void recursiveTestOfDoom(globals g, int row, int col)
        {
            //Test above field
            if (row != 0)
            {
                if (g.board[row - 1, col] == ' ')
                {
                    if (!g.connected.Contains(toXyString(row - 1, col)))
                    {
                        g.connected.Add(toXyString(row - 1, col));
                        recursiveTestOfDoom(g, row - 1, col);
                    }
                }
            }

            //Test right field
            if (col != g.cols - 1)
            {
                if (g.board[row, col + 1] == ' ')
                {
                    if (!g.connected.Contains(toXyString(row, col + 1)))
                    {
                        g.connected.Add(toXyString(row, col + 1));
                        recursiveTestOfDoom(g, row, col + 1);
                    }
                }
            }

            //Test below field
            if (row != g.rows - 1)
            {
                if (g.board[row + 1, col] == ' ')
                {
                    if (!g.connected.Contains(toXyString(row + 1, col)))
                    {
                        g.connected.Add(toXyString(row + 1, col));
                        recursiveTestOfDoom(g, row + 1, col);
                    }
                }
            }

            //Test left field
            if (col != 0)
            {
                if (g.board[row, col - 1] == ' ')
                {
                    if (!g.connected.Contains(toXyString(row, col - 1)))
                    {
                        g.connected.Add(toXyString(row, col - 1));
                        recursiveTestOfDoom(g, row, col - 1);
                    }
                }
            }

            //Test if all fields are reached
            if (g.lenAll == g.connected.Count)
                return;

            //Remove this position from list
            g.connected.Remove(toXyString(row, col));
        }

        /// &lt;summary&gt;
        /// Builds a little String out of the x and y coordinate
        /// &lt;/summary&gt;
        /// &lt;param name="row"&gt;&lt;/param&gt;
        /// &lt;param name="col"&gt;&lt;/param&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        static String toXyString(int row, int col)
        {
            return row.ToString() + col.ToString();
        }

        static String input(String text)
        {
            Console.Write(text);
            return Console.ReadLine();
        }
    }

    /// &lt;summary&gt;
    /// Just to store all globals, so that they don't have to be given everytime as argument
    /// &lt;/summary&gt;
    class globals
    {
        public Char[,] board { get; set; }
        public List&lt;String&gt; connected { get; set; }
        public int rows { get; set; }
        public int cols { get; set; }
        public int lenAll { get; set; }
    }
}
</code></pre>
<hr>
<h2>Conclusion</h2>
<p>This is just a simple upgrade to our program. Maybe it’s not that hard if you have already solved the part before, but it’s a good and simple exercise.</p>
<p>|-TheDoctor-|</p>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="1" />
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="0" />
</div>
</div>
<div id="post_2" itemprop="comment" itemscope itemtype="http://schema.org/Comment" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/system"><span itemprop="name">system</span></a>
(system)
Closed
</span>
<link itemprop="mainEntityOfPage" href="554.html">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2018-01-21T00:31:24Z" class="post-time">
January 21, 2018, 12:31am
</time>
<meta itemprop="dateModified" content="2018-01-21T00:31:24Z">
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>This topic was automatically closed after 30 days. New replies are no longer allowed.</p>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="0" />
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="0" />
</div>
</div>
</div>
</div>
<footer class="container wrap">
<nav class="crawler-nav">
<ul>
<li itemscope itemtype="http://schema.org/SiteNavigationElement">
<span itemprop="name">
<a href="../../index.html" itemprop="url">Home </a>
</span>
</li>
<li itemscope itemtype="http://schema.org/SiteNavigationElement">
<span itemprop="name">
<a href="../../categories.html" itemprop="url">Categories </a>
</span>
</li>
<li itemscope itemtype="http://schema.org/SiteNavigationElement">
<span itemprop="name">
<a href="https://0x00sec.org/guidelines" itemprop="url">FAQ/Guidelines </a>
</span>
</li>
<li itemscope itemtype="http://schema.org/SiteNavigationElement">
<span itemprop="name">
<a href="../../tos.html" itemprop="url">Terms of Service </a>
</span>
</li>
<li itemscope itemtype="http://schema.org/SiteNavigationElement">
<span itemprop="name">
<a href="../../privacy.html" itemprop="url">Privacy Policy </a>
</span>
</li>
</ul>
</nav>
<p class="powered-by-link">Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>
<script src="https://instant.page/3.0.0" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>
</body>
</html>
