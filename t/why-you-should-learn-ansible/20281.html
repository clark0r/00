<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Why you should learn Ansible - Linux - 0x00sec - The Home of the Hacker</title>
    <meta name="description" content="Introduction
Hi everyone ! It‚Äôs been a while since I have write something here. 
I think that my last post was in 2017 ! 
So today, I wanted to write you a little article about Ansible 
Ansible is one of my favorite tool&amp;hellip;">
    <meta name="generator" content="Discourse 3.6.0.beta2-latest - https://github.com/discourse/discourse version 3b1964f3ed8bdc2f181e2abccb1b116e4b814db5">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/30c4e7d76acf879a124fdfe4d8d126afe628c189_2_32x32.html">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/c/c5e37f667fd0fe006ffa67653c662fb64fec597e_2_180x180.html">
<meta name="theme-color" media="all" content="#171616">

<meta name="color-scheme" content="dark">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="20281.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="0x00sec - The Home of the Hacker Search">

    
    <link href="../../stylesheets/color_definitions_0x00sec-v2_15_57_dfa17f5b2e0faf8b274cd749dd7dab92384218d4.css_%3b%20filename_%3dUTF-8%27%27color_definitions_0x00sec-v2_15_57_dfa17f5b2e0faf8b274cd749dd7dab92384218d4a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" class="light-scheme" data-scheme-id="15"/>

<link href="../../stylesheets/common_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27common_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="common"  />

  <link href="../../stylesheets/mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(max-width: 39.99999rem)" rel="stylesheet" data-target="mobile"  />
  <link href="../../stylesheets/desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(min-width: 40rem)" rel="stylesheet" data-target="desktop"  />



    <link href="../../stylesheets/chat_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27chat_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="chat"  />
    <link href="../../stylesheets/checklist_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27checklist_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="checklist"  />
    <link href="../../stylesheets/discourse-cakeday_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-cakeday_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-cakeday"  />
    <link href="../../stylesheets/discourse-details_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-details_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="../../stylesheets/discourse-lazy-videos_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-lazy-videos_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="../../stylesheets/discourse-local-dates_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-local-dates_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="../../stylesheets/discourse-narrative-bot_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-narrative-bot_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="../../stylesheets/discourse-presence_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-presence_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="../../stylesheets/discourse-solved_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-solved_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-solved"  />
    <link href="../../stylesheets/discourse-templates_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-templates_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-templates"  />
    <link href="../../stylesheets/discourse-topic-voting_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-topic-voting_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-topic-voting"  />
    <link href="../../stylesheets/docker_manager_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27docker_manager_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="../../stylesheets/footnote_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27footnote_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="../../stylesheets/poll_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27poll_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="poll"  />
    <link href="../../stylesheets/spoiler-alert_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27spoiler-alert_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="../../stylesheets/chat_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27chat_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(max-width: 39.99999rem)" rel="stylesheet" data-target="chat_mobile"  />
    <link href="../../stylesheets/discourse-solved_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-solved_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(max-width: 39.99999rem)" rel="stylesheet" data-target="discourse-solved_mobile"  />
    <link href="../../stylesheets/discourse-topic-voting_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-topic-voting_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(max-width: 39.99999rem)" rel="stylesheet" data-target="discourse-topic-voting_mobile"  />
    <link href="../../stylesheets/chat_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27chat_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(min-width: 40rem)" rel="stylesheet" data-target="chat_desktop"  />
    <link href="../../stylesheets/discourse-topic-voting_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-topic-voting_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(min-width: 40rem)" rel="stylesheet" data-target="discourse-topic-voting_desktop"  />
    <link href="../../stylesheets/poll_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27poll_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(min-width: 40rem)" rel="stylesheet" data-target="poll_desktop"  />

  <link href="../../stylesheets/common_theme_57_2b2f1b92f8727e7da2866f327e36ad944c6960db.css_%3b%20filename_%3dUTF-8%27%27common_theme_57_2b2f1b92f8727e7da2866f327e36ad944c6960dba97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="57" data-theme-name="0x00sec-v2"/>
    <link href="../../stylesheets/mobile_theme_4_7b59060f894813801912cfad9deff99ebb9e9a38.css_%3b%20filename_%3dUTF-8%27%27mobile_theme_4_7b59060f894813801912cfad9deff99ebb9e9a38a97f.css?__ws=d.clarkee.co.uk" media="(max-width: 39.99999rem)" rel="stylesheet" data-target="mobile_theme" data-theme-id="4" data-theme-name="mobile chrome"/>
    <link href="../../stylesheets/desktop_theme_46_ae6f300d6e65399f845f6707524095726ad69a96.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_46_ae6f300d6e65399f845f6707524095726ad69a96a97f.css?__ws=d.clarkee.co.uk" media="(min-width: 40rem)" rel="stylesheet" data-target="desktop_theme" data-theme-id="46" data-theme-name="header links v2"/>

    <link rel="stylesheet" href="../../../external.html?link=https://s3.amazonaws.com/0x00sec/monokai-sublime.css">
<script src="../../../external.html?link=https://s3.amazonaws.com/0x00sec/highlight.pack.js" nonce="d1KFgWsym1IEiib9PhOHQfBkg"></script>
<script defer="" src="../../theme-javascripts/05954ff525aceb8daa8b585f92d758d311ae7077.js_%3b%20filename_%3dUTF-8%27%2705954ff525aceb8daa8b585f92d758d311ae7077a97f.js?__ws=d.clarkee.co.uk" data-theme-id="40" nonce="d1KFgWsym1IEiib9PhOHQfBkg"></script>
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Why you should learn Ansible&#39;" href="20281.rss" />
    <meta property="og:site_name" content="0x00sec - The Home of the Hacker" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://d.clarkee.co.uk/uploads/default/original/2X/2/27a5373af868edade07624e8205c46e79c247445.jpeg" />
<meta property="og:image" content="https://d.clarkee.co.uk/uploads/default/original/2X/2/27a5373af868edade07624e8205c46e79c247445.jpeg" />
<meta property="og:url" content="https://d.clarkee.co.uk/t/why-you-should-learn-ansible/20281" />
<meta name="twitter:url" content="https://d.clarkee.co.uk/t/why-you-should-learn-ansible/20281" />
<meta property="og:title" content="Why you should learn Ansible" />
<meta name="twitter:title" content="Why you should learn Ansible" />
<meta property="og:description" content="Introduction Hi everyone ! It‚Äôs been a while since I have write something here.  I think that my last post was in 2017 !  So today, I wanted to write you a little article about Ansible  Ansible is one of my favorite tool, I use it for automation in my current job but you can use Ansible  to automate a lot of things !    Here are some example of things you can automate with Ansible :   Automate a new installation of Arch on your new laptop Easily deploy a Web server on the cloud Create reusable s..." />
<meta name="twitter:description" content="Introduction Hi everyone ! It‚Äôs been a while since I have write something here.  I think that my last post was in 2017 !  So today, I wanted to write you a little article about Ansible  Ansible is one of my favorite tool, I use it for automation in my current job but you can use Ansible  to automate a lot of things !    Here are some example of things you can automate with Ansible :   Automate a new installation of Arch on your new laptop Easily deploy a Web server on the cloud Create reusable s..." />
<meta property="og:article:section" content="Linux" />
<meta property="og:article:section:color" content="283890" />
<meta property="og:article:tag" content="ctf" />
<meta property="og:article:tag" content="challenge" />
<meta property="og:article:tag" content="servers" />
<meta property="og:article:tag" content="linux" />
<meta property="og:article:tag" content="hacking" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="3 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="18 ‚ù§" />
<meta property="article:published_time" content="2020-04-05T17:29:05+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    <div id="top-navbar" class="container">
<span id="top-navbar-links" style="display:none;">
  <!--<a href="https://git.0x00sec.org" class="dow-menu">GitLab</a>  
  <a href="https://blog.0x00sec.org/irc" class="dow-menu">IRC</a>!-->
  <a href="../../../external.html?link=https://init.0x00sec.org/" class="dow-menu">Init</a>
  <a href="../../../external.html?link=https://discord.gg/c6BHVfn" class="dow-menu">Discord</a>
  <a href="../../../external.html?link=https://init.0x00sec.org/?partners" class="dow-menu">Partners</a>
</span>
</div>
    <header>
  <a href="../../index.html">0x00sec - The Home of the Hacker</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="20281.html">Why you should learn Ansible</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/linux/64.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #283890'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Linux</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='../../tag/ctf.html' class='discourse-tag' rel="tag">ctf</a>, 
            <a href='../../tag/challenge.html' class='discourse-tag' rel="tag">challenge</a>, 
            <a href='../../tag/servers.html' class='discourse-tag' rel="tag">servers</a>, 
            <a href='../../tag/linux.html' class='discourse-tag' rel="tag">linux</a>, 
            <a href='../../tag/hacking.html' class='discourse-tag' rel="tag">hacking</a>
        </div>
      </div>
  </div>

  

    <div itemscope itemtype='../../../external.html?link=http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Why you should learn Ansible'>
      <link itemprop='url' href='20281.html'>
      <meta itemprop='datePublished' content='2020-04-05T17:29:04Z'>
        <meta itemprop='articleSection' content='Linux'>
      <meta itemprop='keywords' content='ctf, challenge, servers, linux, hacking'>
      <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
        <meta itemprop='name' content='0x00sec - The Home of the Hacker'>
          <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
            <meta itemprop='url' content='../../uploads/default/original/2X/c/c5e37f667fd0fe006ffa67653c662fb64fec597e.html'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/L3akM3-0day.html'><span itemprop='name'>L3akM3-0day</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="20281.html">


              <span class="crawler-post-infos">
                  <time  datetime='2020-04-05T17:29:05Z' class='post-time'>
                    April 5, 2020,  5:29pm
                  </time>
                  <meta itemprop='dateModified' content='2020-04-05T17:29:05Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <h1>Introduction</h1>
<p>Hi everyone ! It‚Äôs been a while since I have write something here.<br>
I think that my last post was in 2017 !</p>
<p>So today, I wanted to write you a little article about <strong>Ansible</strong></p>
<p><strong>Ansible</strong> is one of my favorite tool, I use it for automation in my current job but you can use <strong>Ansible</strong>  to automate a lot of things !</p>
<p><span alt="image" data-base62-sha1="y1LziWEYtBwJqXQczGrPzNodjjG" class="broken-image" title="This image is broken"><svg class="fa d-icon d-icon-unlink svg-icon" aria-hidden="true"><use xlink:href="#unlink"></use></svg></span></p>
<p>Here are some example of things you can automate with <strong>Ansible</strong> :</p>
<ul>
<li>Automate a new installation of Arch on your new laptop</li>
<li>Easily deploy a Web server on the cloud</li>
<li>Create reusable server for hacking</li>
<li>Create a Red teams infrastructure</li>
<li>etc ‚Ä¶</li>
</ul>
<h1>Install Ansible</h1>
<p>Ansible is a tool written in Python, to install ansible you will need to install Python and pip</p>
<p>Debian :<br>
<code>sudo apt install python3 python3-pip</code></p>
<p>Or Arch :<br>
<code>pacman -S python3 python3-pip</code></p>
<p>If you have python and pip install you can install <strong>Ansible</strong> with the following command :</p>
<p><code> pip3 install --user ansible</code></p>
<p>When the installation is done, you can test that ansible is correctly installed with the following commands :</p>
<pre><code class="lang-bash">ansible -m ping 127.0.0.1
</code></pre>
<p>You should have the following output :</p>
<pre><code class="lang-bash">ansible -m ping 127.0.0.1
[WARNING]: No inventory was parsed, only implicit localhost is available
127.0.0.1 | SUCCESS =&gt; {
    "changed": false,
    "ping": "pong"
}
</code></pre>
<p>Great ! You run your first <strong>Ansible</strong> command.</p>
<p><code>ansible -m ping 127.0.0.1</code> will just do a ping to 127.0.0.1</p>
<p><em>But I can run ping 127.0.0.1 to do that !</em></p>
<p>Well, it‚Äôs time to run more useful module</p>
<h1>Ansible ad-hoc command</h1>
<p><strong>Ansible</strong> have two ‚Äúmode‚Äù :</p>
<ul>
<li>ad-hoc command</li>
<li>playbook</li>
</ul>
<p><strong>Ansible ad-hoc</strong> command can run single module on multiple host</p>
<p><strong>Ansible playbooks</strong> are yaml files with multiple tasks that should be executed on a given host or group of hosts</p>
<p>Let‚Äôs look at how ansible ad-hoc command work first</p>
<h3>Creating an Inventory file</h3>
<p>Let‚Äôs pretend we want to install an nginx server on 4 Raspberry pi in our network :</p>
<p>We have 4 Raspberry pi</p>
<pre><code class="lang-auto">raspberry1: 10.0.0.1
raspberry2: 10.0.0.2
raspberry3: 10.0.0.3
raspberry4: 10.0.0.4
</code></pre>
<p>The user to log into our raspberry pi is <code>pi</code> and we have our ssh key in the authorize_hosts</p>
<p>You can use : <code>ssh-copy-id -i ~/.ssh/id_rsa.pub <a href="../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="87f7eec7b6b7a9b7a9b7a9b6">[email&#160;protected]</a></code> to copy your key in the authorized_keys</p>
<p>So let‚Äôs create a new file named inventory.ini with the following content :</p>
<pre><code class="lang-ini">[Raspberry] # This line is the name we give to our group of host
10.0.0.1 # This is one of our Raspberry Host ip
10.0.0.2
10.0.0.3
10.0.0.4

[Raspberry:vars] # We can assign variable to ansible
ansible_user=pi # Here the username to connect to our raspberry
</code></pre>
<p><em>PS: Inventory file can be written in .ini or .yml, to keep this tutorial simple I have decided to write the inventory in .ini</em></p>
<p>So now that we have our inventory file we can try to run the last command we used against our <code>Raspberry</code> group</p>
<pre><code class="lang-bash">ansible -m ping -i inventory.ini Raspberry
</code></pre>
<p>you will have the following output :</p>
<pre><code class="lang-auto"> ansible -m ping -i inventory.ini Raspberry
10.0.0.1 | SUCCESS =&gt; {
  "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python"
    },
    "changed": false,
    "ping": "pong"
}
10.0.0.2 | SUCCESS =&gt;  {
  "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python"
    },
    "changed": false,
    "ping": "pong"
}
10.0.0.3 | SUCCESS =&gt; {
  "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python"
    },
    "changed": false,
    "ping": "pong"
}
10.0.0.4 | SUCCESS =&gt;  {
  "ansible_facts": {
        "discovered_interpreter_python": "/usr/bin/python"
    },
    "changed": false,
    "ping": "pong"
}
</code></pre>
<p>Now, we know that we can reach all 4 Raspberry pi, let‚Äôs install nginx :</p>
<p><code>ansible -m apt -a "name=nginx state=present" -i inventory.ini Raspberry --become</code></p>
<p>So here we use the apt module : <a href="../../../external.html?link=https://docs.ansible.com/ansible/latest/modules/apt_module.html" rel="nofollow noopener">https://docs.ansible.com/ansible/latest/modules/apt_module.html</a></p>
<p>we give extra args to apt</p>
<p><strong>name</strong>: is the name of the package we want to install here: <em>nginx</em><br>
<strong>state</strong>: is the state of the package, here we want to have nginx present on our raspberry<br>
<strong>‚Äìbecome</strong>: is use to escalate to root to install nginx</p>
<p>When you run the command for the first time, the output will be</p>
<pre><code class="lang-auto">192.168.1.34 | CHANGED =&gt; {
  ...
}
</code></pre>
<p>If you run the command multiple time, the output will always be</p>
<pre><code class="lang-auto">192.168.1.34 | SUCCESS =&gt; {
    "cache_update_time": 1586104797,
    "cache_updated": false,
    "changed": false
}
</code></pre>
<p>Because nginx is already install, ansible will not try to reinstall nginx if the package is in the state you set before</p>
<p>if you want to uninstall nginx just replace present by absent.</p>
<h1>Ansible playbook</h1>
<p>Now that we have run some easy command to install nginx on our raspberry let‚Äôs make our first playbook</p>
<p>An Ansible playbook is a set of action use to run automate task, you can use all the module you used before in the ad-hoc command</p>
<p>let‚Äôs make a new directory</p>
<pre><code class="lang-auto">mkdir my-playbook
</code></pre>
<p>Create a new inventory file inside your new folder with the following content :</p>
<pre><code class="lang-auto">[localhost]
127.0.0.1
</code></pre>
<p>Now, let‚Äôs write an ansible playbook to install useful tools for CTF or HackTheBox machine</p>
<p>create a new file : <code>install-hacker-tools.yml</code></p>
<pre><code class="lang-auto">---
- hosts: localhost 
  connection: local
  tasks:
    - name: Install hacker tools # Here is the name of our task 
      apt: # We use Apt module here 
        name: "{{ item }}" # Here we want to loop on multiple package
        state: present # We want all our package present on our system
      with_items: # Here is the block use to run loops
        - nmap
        - golang
        - git
    - name: Install Gobuster 
      shell: go get github.com/OJ/gobuster # Here we use shell module to run inline command
</code></pre>
<p>This file will install nmap, golang, git and gobuster on your local machine</p>
<p>you can run this playbook with :</p>
<p><code>ansible-playbook install-hacker-tools.yml -i inventory.ini -b</code></p>
<p>Now all the tools are installed on your machine</p>
<p>With some modification on the playbook and on your inventory, you can run this playbook on a group of hosts</p>
<p>If we have the following inventory :</p>
<pre><code class="lang-auto">[Raspberry]
10.0.0.1
10.0.0.2

[WebServer]
10.20.40.1
10.20.40.5
</code></pre>
<p>And the following playbook</p>
<pre><code class="lang-auto">---
- hosts: all
  tasks:
    - name: Install hacker tools
      apt:
        name: "{{ item }}"
        state: present
      with_items:
        - nmap
        - golang
        - git
    - name: Install Gobuster
      shell: go get github.com/OJ/gobuster
</code></pre>
<p>We can run the playbook only on our Raspberry group with the following command:</p>
<p><code>ansible-playbook install-hacker-tools.yml -i inventory.ini -b --limit Raspberry</code></p>
<p>Now you can play a little bit with ansible and automate cool things !</p>
<p>If you have question about ansible tweet me at <strong>L3akM3_0d4y</strong> !</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="9" />
              <span class='post-likes'>9 Likes</span>
            </div>


            
          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/Deltaeus.html'><span itemprop='name'>Deltaeus</span></a>
                (Deltaeus)
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2020-04-05T22:18:15Z' class='post-time'>
                    April 5, 2020, 10:18pm
                  </time>
                  <meta itemprop='dateModified' content='2020-04-05T22:18:15Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Hi L3akM3-0day,<br>
That‚Äôs a good introduction to how to use ansible.<br>
What would you say to people who might read this and think ‚Äúyeah, I can do all of that with a shell script once ssh is properly set up‚Äù?<br>
Is there a good use case where you look at it and say ‚Äúthat is something I‚Äôd like to do, and if I don‚Äôt use ansible I‚Äôll have to do a lot more work‚Äù?<br>
Cheers</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>


            
          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/L3akM3-0day.html'><span itemprop='name'>L3akM3-0day</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2020-04-05T22:41:34Z' class='post-time'>
                    April 5, 2020, 10:41pm
                  </time>
                  <meta itemprop='dateModified' content='2020-04-05T22:41:34Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Everything I can do with Ansible can be done with a simple python script or bash script.</p>
<p>If there is one thing I love about Ansible is it‚Äôs simplicity and the fact that you can write roles for different service.</p>
<p>If you need to automate the installation of a Webserver and a Database</p>
<p>you just need to write a playbooks like this :</p>
<pre><code class="lang-auto">- hosts: all
  roles:
    - webserver
    - Database
</code></pre>
<p>It‚Äôs easy to write and you can clearly see what this playbook will do.</p>
<p>It will Install a Webserver and Database role on all hosts specified in an inventory.</p>
<p>Another cool thing about Ansible is that you can run Ansible 1, 2 or 100 time and the result will always be the same.</p>
<p>Of course you can do that in bash but you need a little bit more work.</p>
<p>I think Ansible is somethings useful to learn for hacker, sysadmin and devs</p>
<p>I like to use Ansible and Terraform to deploy quick infrastructure on Digital Ocean</p>
<p>If I need to test a new Web Stack, I Can write a playbook to deploy the server on my Digital Ocean account, do all the test I need to do and stop it whenever I want so I can save a little bit of money when I don‚Äôt use the server</p>
<p>Hope I was clear ! <img src="../../../0x00sec.org/images/emoji/twitter/slight_smilec164.html?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="4" />
              <span class='post-likes'>4 Likes</span>
            </div>


            
          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/dd-c-bear.html'><span itemprop='name'>dd-c-bear</span></a>
                (Bear)
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2020-04-06T13:13:48Z' class='post-time'>
                    April 6, 2020,  1:13pm
                  </time>
                  <meta itemprop='dateModified' content='2020-04-06T13:13:48Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>wow<br>
it‚Äôs so cool ,thank you to share this useful things.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>


            
          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/L3akM3-0day.html'><span itemprop='name'>L3akM3-0day</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2020-04-06T13:20:48Z' class='post-time'>
                    April 6, 2020,  1:20pm
                  </time>
                  <meta itemprop='dateModified' content='2020-04-06T13:20:48Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>No problem ! I am here to share <img src="../../../0x00sec.org/images/emoji/twitter/grinc164.html?v=9" title=":grin:" class="emoji" alt=":grin:"></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>


            
          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/pry0cc.html'><span itemprop='name'>pry0cc</span></a>
                (Leader &amp; Offsec Engineer &amp; Forum Daddy)
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2020-04-07T11:56:58Z' class='post-time'>
                    April 7, 2020, 11:56am
                  </time>
                  <meta itemprop='dateModified' content='2020-04-07T11:56:58Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>This is really cool - I‚Äôm actually working on a Packer image right now which does something very similar.</p>
<p>I just use the shell-inline feature (so its basically just a bash script) and I find that works pretty well for me in terms of speed of builds, but you do miss that modularity that you do get with ansible.</p>
<p>We should work together on my project, I call it ‚ÄúAxiom‚Äù <img src="../../../0x00sec.org/images/emoji/twitter/stuck_out_tonguec164.html?v=9" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"> Hit me up on Discord.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>


            
          </div>
          <div id='post_7' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/notKakarot.html'><span itemprop='name'>notKakarot</span></a>
                (notKakarot)
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2020-04-14T03:51:25Z' class='post-time'>
                    April 14, 2020,  3:51am
                  </time>
                  <meta itemprop='dateModified' content='2020-04-14T03:51:25Z'>
              <span itemprop='position'>7</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>I have heard of Ansible here and there. I‚Äôm glad I came across this article.<br>
Could you share the config files which you‚Äôve actively used on your server in DigitalOcean?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>


            
          </div>
          <div id='post_8' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/tbboy2008.html'><span itemprop='name'>tbboy2008</span></a>
                (iCe)
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2020-04-18T17:47:09Z' class='post-time'>
                    April 18, 2020,  5:47pm
                  </time>
                  <meta itemprop='dateModified' content='2020-04-18T17:47:09Z'>
              <span itemprop='position'>8</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>That was a good introduction, thank you  .</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>


            
          </div>
          <div id='post_9' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/system.html'><span itemprop='name'>system</span></a>
                (system)
                  Closed 
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2020-08-05T09:29:08Z' class='post-time'>
                    August 5, 2020,  9:29am
                  </time>
                  <meta itemprop='dateModified' content='2020-08-05T09:29:08Z'>
              <span itemprop='position'>9</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>This topic was automatically closed after 121 days. New replies are no longer allowed.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>


            
          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../index.html' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../categories.html' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../guidelines.html' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../tos.html' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../privacy.html' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    <script data-cfasync="false" src="../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="../../../external.html?link=http://instant.page/3.0.0" type="module" defer="" integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1" nonce="d1KFgWsym1IEiib9PhOHQfBkg"></script>
  </body>
  
</html>
