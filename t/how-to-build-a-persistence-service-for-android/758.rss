<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>How to build a persistence Service for Android?</title>
    <link>https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758</link>
    <description>Hey guys,
currently I&#39;m working on a RAT for Android devices. The general idea is to write a simple app, which runs a malicious service on boot. This service then waits for commands to execute from a Server application on a computer.

I got that running, but my problem is that I wish to make the service persistent. At the moment the service gets (Of course) uninstalled, when the victim uninstalls the application, but I want it to work further on, even if the host app gets removed ;).

Maybe some of you know Dendroid. It is a RAT for Android, which also runs a service on startup, but this service persists, even if the host app gets uninstalled. So here&#39;s my question: Does some of you know how to make a service persistent? I thought of injecting a service into another app or installing a new app - Maybe called &quot;SystemService&quot; or something similiar -, which shouldn&#39;t get removed by the victim.

I am writing the whole RAT in C# with Xamarin, but ideas how to write it in Java would be appreciated too :slight_smile:. When I&#39;m done with the RAT, I think I&#39;ll post the code with explanations here, so your  help won&#39;t be useless ;)

Thanks in advance!
|-TheDoctor-|</description>
    
    <lastBuildDate>Wed, 20 Jul 2016 16:53:30 +0000</lastBuildDate>
    <category>Malware</category>
    <atom:link href="https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>How to build a persistence Service for Android?</title>
        <dc:creator><![CDATA[system]]></dc:creator>
        <description><![CDATA[
            <p>This topic was automatically closed after 30 days. New replies are no longer allowed.</p>
          <p><a href="https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758/10">Read full topic</a></p>
        ]]></description>
        <link>https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758/10</link>
        <pubDate>Sun, 21 Jan 2018 00:42:06 +0000</pubDate>
        <guid isPermaLink="false">0x00sec.org-post-758-10</guid>
        <source url="https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758.rss">How to build a persistence Service for Android?</source>
      </item>
      <item>
        <title>How to build a persistence Service for Android?</title>
        <dc:creator><![CDATA[Cromical]]></dc:creator>
        <description><![CDATA[
            <p>Yeah it seems they’re right mate! Somehow get the Android device rooted and grant super user privileges.</p>
          <p><a href="https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758/9">Read full topic</a></p>
        ]]></description>
        <link>https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758/9</link>
        <pubDate>Wed, 20 Jul 2016 16:53:30 +0000</pubDate>
        <guid isPermaLink="false">0x00sec.org-post-758-9</guid>
        <source url="https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758.rss">How to build a persistence Service for Android?</source>
      </item>
      <item>
        <title>How to build a persistence Service for Android?</title>
        <dc:creator><![CDATA[zSec]]></dc:creator>
        <description><![CDATA[
            <p>I remember playing around with metasploit and the android meterpreter I ran into the same issue. The device needed to be rooted to do a persistence.<br>
I have to get into that again, hacking android devices is really fun. But I have to work on my programming skills first <img src="https://0x00sec.org/images/emoji/twitter/frowning2.png?v=9" title=":frowning2:" class="emoji" alt=":frowning2:"></p>
<p>Let me know when your persistence is working, this topic is really interesting <img src="https://0x00sec.org/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          <p><a href="https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758/8">Read full topic</a></p>
        ]]></description>
        <link>https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758/8</link>
        <pubDate>Wed, 20 Jul 2016 16:51:47 +0000</pubDate>
        <guid isPermaLink="false">0x00sec.org-post-758-8</guid>
        <source url="https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758.rss">How to build a persistence Service for Android?</source>
      </item>
      <item>
        <title>How to build a persistence Service for Android?</title>
        <dc:creator><![CDATA[SmartOne]]></dc:creator>
        <description><![CDATA[
            <p>It shouldn’t be hard, because it’s nothing different than executing commands/scripts as su. A neat method to check for root in Xamarin: <a href="https://forums.xamarin.com/discussion/comment/67904/#Comment_67904" rel="nofollow noopener">https://forums.xamarin.com/discussion/comment/67904/#Comment_67904</a></p>
          <p><a href="https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758/7">Read full topic</a></p>
        ]]></description>
        <link>https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758/7</link>
        <pubDate>Wed, 20 Jul 2016 11:59:18 +0000</pubDate>
        <guid isPermaLink="false">0x00sec.org-post-758-7</guid>
        <source url="https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758.rss">How to build a persistence Service for Android?</source>
      </item>
      <item>
        <title>How to build a persistence Service for Android?</title>
        <dc:creator><![CDATA[TheDoctor]]></dc:creator>
        <description><![CDATA[
            <p>Thanks, great share! It’s my first Android app, so getting root within it could be a bit difficult for me, but we’ll see what I can do <img src="https://0x00sec.org/images/emoji/twitter/wink.png?v=9" title=":wink:" class="emoji" alt=":wink:">.</p>
          <p><a href="https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758/6">Read full topic</a></p>
        ]]></description>
        <link>https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758/6</link>
        <pubDate>Wed, 20 Jul 2016 11:43:06 +0000</pubDate>
        <guid isPermaLink="false">0x00sec.org-post-758-6</guid>
        <source url="https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758.rss">How to build a persistence Service for Android?</source>
      </item>
      <item>
        <title>How to build a persistence Service for Android?</title>
        <dc:creator><![CDATA[SmartOne]]></dc:creator>
        <description><![CDATA[
            <p>If there’s not a major bug in the Android OS, you’ll definitely need root. As soon as you have root permissions, you can install your app as a system app (by copying it to /system/app).<br>
Once you are a system app, set your <a href="http://devescape.blogspot.hr/2011/02/persistent-services-in-android.html" rel="nofollow noopener">service as persistent</a><br>
In order to make it harder to remove your app, you could maybe try to add another user group with root permissions just for your app (if that works), and then unroot the phone.<br>
Also, integrating various rooting exploits would ensure success.</p>
<p>Whatever you implement, I’m eager to see the results <img src="https://0x00sec.org/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          <p><a href="https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758/5">Read full topic</a></p>
        ]]></description>
        <link>https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758/5</link>
        <pubDate>Wed, 20 Jul 2016 10:58:15 +0000</pubDate>
        <guid isPermaLink="false">0x00sec.org-post-758-5</guid>
        <source url="https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758.rss">How to build a persistence Service for Android?</source>
      </item>
      <item>
        <title>How to build a persistence Service for Android?</title>
        <dc:creator><![CDATA[TheDoctor]]></dc:creator>
        <description><![CDATA[
            <p>Mmh, yes… I thought, it won’t be such an easy task ;). I’ll work on the other parts of my RAT first and think about this problem later. That doesn’t mean your ideas aren’t appreciated! Please feel free to share your thoughts further on here, that we can discuss them together. Maybe we find a way <img src="https://0x00sec.org/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:">.</p>
<p>I’ll have a look at the injecting idea, but as <a class="mention" href="https://0x00sec.org/u/pry0cc">@pry0cc</a> said, we’ll probably need root  for that… Maybe we only need special privileges, which we can request, when it installs. I rarely know people, who are interested in the privileges, their apps need (One of my friends, who uses Android since 2 years now, didn’t even know what he accepts when he agrees <img src="https://0x00sec.org/images/emoji/twitter/expressionless.png?v=9" title=":expressionless:" class="emoji" alt=":expressionless:">), so that wouldn’t be a problem, for a majority of Android users.</p>
          <p><a href="https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758/4">Read full topic</a></p>
        ]]></description>
        <link>https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758/4</link>
        <pubDate>Wed, 20 Jul 2016 06:43:26 +0000</pubDate>
        <guid isPermaLink="false">0x00sec.org-post-758-4</guid>
        <source url="https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758.rss">How to build a persistence Service for Android?</source>
      </item>
      <item>
        <title>How to build a persistence Service for Android?</title>
        <dc:creator><![CDATA[pry0cc]]></dc:creator>
        <description><![CDATA[
            <p>You’ll need root privledges undoubtedly. I think the Android system works fairly similarly to the Linux system, I don’t know the init method, although I’m sure there is one. You’ll want to install it to the relevant directory for the init method, and then run the code from bootup. You’ll need root privledges for that, however I think it could work.</p>
<p>I’d be exited to this work, it could be a useful POC, and it really makes you think what Android malware could be capable of.</p>
          <p><a href="https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758/3">Read full topic</a></p>
        ]]></description>
        <link>https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758/3</link>
        <pubDate>Tue, 19 Jul 2016 21:59:23 +0000</pubDate>
        <guid isPermaLink="false">0x00sec.org-post-758-3</guid>
        <source url="https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758.rss">How to build a persistence Service for Android?</source>
      </item>
      <item>
        <title>How to build a persistence Service for Android?</title>
        <dc:creator><![CDATA[Cromical]]></dc:creator>
        <description><![CDATA[
            <p>Perhaps something like that would work. Not too sure if injecting a service into another app would work. Although, good luck on it.</p>
          <p><a href="https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758/2">Read full topic</a></p>
        ]]></description>
        <link>https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758/2</link>
        <pubDate>Tue, 19 Jul 2016 19:35:42 +0000</pubDate>
        <guid isPermaLink="false">0x00sec.org-post-758-2</guid>
        <source url="https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758.rss">How to build a persistence Service for Android?</source>
      </item>
      <item>
        <title>How to build a persistence Service for Android?</title>
        <dc:creator><![CDATA[TheDoctor]]></dc:creator>
        <description><![CDATA[
            <p>Hey guys,<br>
currently I’m working on a RAT for Android devices. The general idea is to write a simple app, which runs a malicious service on boot. This service then waits for commands to execute from a Server application on a computer.</p>
<p>I got that running, but my problem is that I wish to make the service persistent. At the moment the service gets (Of course) uninstalled, when the victim uninstalls the application, but I want it to work further on, even if the host app gets removed ;).</p>
<p>Maybe some of you know Dendroid. It is a RAT for Android, which also runs a service on startup, but this service persists, even if the host app gets uninstalled. So here’s my question: Does some of you know how to make a service persistent? I thought of injecting a service into another app or installing a new app - Maybe called “SystemService” or something similiar -, which shouldn’t get removed by the victim.</p>
<p>I am writing the whole RAT in C# with Xamarin, but ideas how to write it in Java would be appreciated too <img src="https://0x00sec.org/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:">. When I’m done with the RAT, I think I’ll post the code with explanations here, so your  help won’t be useless <img src="https://0x00sec.org/images/emoji/twitter/wink.png?v=9" title=":wink:" class="emoji" alt=":wink:"></p>
<p>Thanks in advance!<br>
|-TheDoctor-|</p>
          <p><a href="https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758/1">Read full topic</a></p>
        ]]></description>
        <link>https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758/1</link>
        <pubDate>Tue, 19 Jul 2016 11:23:31 +0000</pubDate>
        <guid isPermaLink="false">0x00sec.org-post-758-1</guid>
        <source url="https://0x00sec.org/t/how-to-build-a-persistence-service-for-android/758.rss">How to build a persistence Service for Android?</source>
      </item>
  </channel>
</rss>
