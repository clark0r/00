<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Improving your Android Shell - Linux - 0x00sec - The Home of the Hacker</title>
<meta name="description" content="Do you know your Android phone have a shell?. Do you know that it is a reduced version of busybox?. Do you know you can recompile it and add some important missing applets? 
If you don’t, keep reading. This is gonna be q&amp;hellip;">
<meta name="generator" content="Discourse 3.1.0.beta6 - https://github.com/discourse/discourse version 80a1709965fa59da824b2e3392976fc6fc898f80">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/30c4e7d76acf879a124fdfe4d8d126afe628c189_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/c/c5e37f667fd0fe006ffa67653c662fb64fec597e_2_180x180.png">
<meta name="theme-color" media="all" content="#171616">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="886.html" />
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="0x00sec - The Home of the Hacker Search">
<link href="../../stylesheets/color_definitions_0x00sec-v2_15_57_a5ef387651921c3e4c7aa1108536015ba8299efb.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" class="light-scheme" />
<link href="../../stylesheets/desktop_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="desktop" />
<link href="../../stylesheets/chat_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="chat" />
<link href="../../stylesheets/discourse-details_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-details" />
<link href="../../stylesheets/discourse-lazy-videos_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-lazy-videos" />
<link href="../../stylesheets/discourse-local-dates_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-local-dates" />
<link href="../../stylesheets/discourse-narrative-bot_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-narrative-bot" />
<link href="../../stylesheets/discourse-presence_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-presence" />
<link href="../../stylesheets/discourse-spoiler-alert_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-spoiler-alert" />
<link href="../../stylesheets/docker_manager_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="docker_manager" />
<link href="../../stylesheets/poll_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="poll" />
<link href="../../stylesheets/chat_desktop_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="chat_desktop" />
<link href="../../stylesheets/poll_desktop_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="poll_desktop" />
<link href="../../stylesheets/desktop_theme_46_f36ade55bf80933494fe3b5fab518f477de3bd4e.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="46" data-theme-name="header links v2" />
<link href="../../stylesheets/desktop_theme_57_8c0e890a61cdb4c5833a9f9c96664ed164e7d645.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="57" data-theme-name="0x00sec-v2" />
<link rel="stylesheet" href="https://s3.amazonaws.com/0x00sec/monokai-sublime.css">
<script src="https://s3.amazonaws.com/0x00sec/highlight.pack.js"></script>
<link rel="preload" href="../../theme-javascripts/440fd21108f5ba9e5dfe06cca9fc842569d5a874.js%3F__ws=0x00sec.org" as="script">
<script defer src="../../theme-javascripts/440fd21108f5ba9e5dfe06cca9fc842569d5a874.js%3F__ws=0x00sec.org" data-theme-id="40"></script>
<link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Improving your Android Shell&#39;" href="886.rss" />
<meta property="og:site_name" content="0x00sec - The Home of the Hacker" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://0x00sec.s3.amazonaws.com/original/1X/e267fd5831155df869c84bad0d80c33df5d10942.png" />
<meta property="og:image" content="https://0x00sec.s3.amazonaws.com/original/1X/e267fd5831155df869c84bad0d80c33df5d10942.png" />
<meta property="og:url" content="https://0x00sec.org/t/improving-your-android-shell/886" />
<meta name="twitter:url" content="https://0x00sec.org/t/improving-your-android-shell/886" />
<meta property="og:title" content="Improving your Android Shell" />
<meta name="twitter:title" content="Improving your Android Shell" />
<meta property="og:description" content="Do you know your Android phone have a shell?. Do you know that it is a reduced version of busybox?. Do you know you can recompile it and add some important missing applets?  If you don’t, keep reading. This is gonna be quick and easy!  NOTE: This a rewrite of something I wrote some time ago for other forum… Anyway, there are not much more ways of doing this, and I think it is interesting to share  Chose your Toolchain The first thing you need is to get a toolchain to be able to cross-compile you..." />
<meta name="twitter:description" content="Do you know your Android phone have a shell?. Do you know that it is a reduced version of busybox?. Do you know you can recompile it and add some important missing applets?  If you don’t, keep reading. This is gonna be quick and easy!  NOTE: This a rewrite of something I wrote some time ago for other forum… Anyway, there are not much more ways of doing this, and I think it is interesting to share  Chose your Toolchain The first thing you need is to get a toolchain to be able to cross-compile you..." />
<meta property="og:article:section" content="Linux" />
<meta property="og:article:section:color" content="283890" />
<meta property="og:article:tag" content="android" />
<meta property="og:article:tag" content="busybox" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="15 ❤" />
<meta property="article:published_time" content="2016-08-02T21:34:43+00:00" />
<meta property="og:ignore_canonical" content="true" />
</head>
<body class="crawler ">
<div id="top-navbar" class="container">
<span id="top-navbar-links" style="display:none;">

<a href="https://init.0x00sec.org" class="dow-menu">Init</a>
<a href="https://discord.gg/c6BHVfn" class="dow-menu">Discord</a>
<a href="https://init.0x00sec.org/?partners" class="dow-menu">Partners</a>
</span>
</div>
<header>
<a href="../../index.html">
0x00sec - The Home of the Hacker
</a>
</header>
<div id="main-outlet" class="wrap" role="main">
<div id="topic-title">
<h1>
<a href="886.html">Improving your Android Shell</a>
</h1>
<div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
<a href="../../c/linux/64.html" class="badge-wrapper bullet" itemprop="item">
<span class="badge-category-bg" style="background-color: #283890"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Linux</span>
</span>
</a>
<meta itemprop="position" content="1" />
</span>
</div>
<div class="topic-category">
<div class="discourse-tags list-tags">
<a href="../../tag/android.html" class="discourse-tag" rel="tag">android</a>,
<a href="../../tag/busybox.html" class="discourse-tag" rel="tag">busybox</a>
</div>
</div>
</div>
<div itemscope itemtype="http://schema.org/DiscussionForumPosting">
<meta itemprop="headline" content="Improving your Android Shell">
<meta itemprop="articleSection" content="Linux">
<meta itemprop="keywords" content="android, busybox">
<div itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
<meta itemprop="name" content="0x00sec - The Home of the Hacker">
<div itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
<meta itemprop="url" content="https://0x00sec.org/uploads/default/original/2X/c/c5e37f667fd0fe006ffa67653c662fb64fec597e.png">
</div>
</div>
<div id="post_1" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/0x00pf"><span itemprop="name">0x00pf</span></a>
(pico)
</span>
<link itemprop="mainEntityOfPage" href="886.html">
<link itemprop="image" href="https://0x00sec.s3.amazonaws.com/original/1X/e267fd5831155df869c84bad0d80c33df5d10942.png">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2016-08-02T21:34:43Z" class="post-time">
August 2, 2016, 9:34pm
</time>
<meta itemprop="dateModified" content="2016-08-03T05:42:58Z">
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>Do you know your Android phone have a shell?. Do you know that it is a reduced version of busybox?. Do you know you can recompile it and add some important missing applets?</p>
<p>If you don’t, keep reading. This is gonna be quick and easy!</p>
<p><em>NOTE: This a rewrite of something I wrote some time ago for other forum… Anyway, there are not much more ways of doing this, and I think it is interesting to share</em></p>
<h1>Chose your Toolchain</h1>
<p>The first thing you need is to get a toolchain to be able to cross-compile your own version of busybox. This use tho be a hard task, but with the popularity of ARM devices these latest now you can just install a debian package in your debian based preferred distro</p>
<pre><code>apt-get install gcc-arm-linux-gnueabi 
apt-get install gcc-arm-linux-gnueabihf
</code></pre>
<p>Chose the first one for old phones with a processor that does not support hardware floating point operations. Any recent smartphone or Android device should be fine with the hf version.</p>
<h1>Configure busybox</h1>
<p>Now go to the busybox website ( <a href="https://busybox.net/" rel="noopener nofollow ugc">https://busybox.net/</a>) and grab the latest version, uncompress and configure:</p>
<pre><code>$ wget https://busybox.net/downloads/busybox-1.25.0.tar.bz2 -O - | tar xj
$ cd busyb0x-1.25.0
$ make menuconfig
</code></pre>
<p>This will bring up a text interface similar to the one used by to compile the Linux Kernel. Select the first option (<code>Busybox Settings</code>) and then second (<code>Build Options</code>).</p>
<p>In that screen select the first option to build <code>busybox</code> as a static binary and then enter the prefix to your selected toolchain, the one you installed in the previous step. At the end it should look like this:</p>
<p><img src="https://0x00sec.s3.amazonaws.com/original/1X/e267fd5831155df869c84bad0d80c33df5d10942.png" width="556" height="353"></p>
<p>Then you can go back to the top level screen and select the apples you want. By default most of then are selected so you may, actually, want to remove some…</p>
<p>When you are done, leave the configuration tool, save your config file and type:</p>
<pre><code>make
or
make -j 8 # If you have 8 cores in your machine!
</code></pre>
<h1>Deploying</h1>
<p>When <code>make</code> is done, you will get a file named <code>busybox</code>. A static binary for ARM:</p>
<pre><code>$ file busybox
busybox: ELF 32-bit LSB executable, ARM, version 1 (SYSV), statically linked, for GNU/Linux 2.6.31, BuildID[sha1]=0x873b15e8aa14397bd5ed72a482117a5893f2ca64, stripped
</code></pre>
<p>Now we have to deploy or new <code>busybox</code> on our phone. For this you need the <code>adb</code> tool that comes with the Android SDK. You need to download the Android SDK, uncompress the package somewhere, figure out the path to the adb tool and add it to the <code>PATH</code>. That is roughly it.</p>
<p>Once we have <code>adb</code> we can copy our <code>busybox</code> version into the phone. Connect the phone via USB, enable debug mode, accept the dialog popping up in the phone (unless you had already accepted it permanently) so you can run:</p>
<pre><code>adb push busybox /data/local/tmp
</code></pre>
<p>Then, we just need to log into our phone, change some permissions and install <code>busybox</code>:</p>
<pre><code>host $ adb shell
phone $ cd /data/local/tmp
phone $ chmod 777 busybox
phone $ mkdir bb
phone $ ./busybox --install ./bb
phone $ export PATH=/data/local/tmp/bb:$PATH
</code></pre>
<p>The folder <code>/data/local/tmp</code> have write and execution permissions for all users. That is why we chose it.</p>
<p>That is it. Just try <code>ls</code> to get the familiar coloured directory listing you have in your linux box. Now you can use:</p>
<ul>
<li>netcat</li>
<li>wget</li>
<li>httpd</li>
<li>vi</li>
<li>awk</li>
</ul>
<p>…and most of the basic tools you are used to (with more options that the ones provided by the default Android shell). Note that some tools may require root access. Exactly the same that when you use them in your normal linux box.</p>
<p>One think you may try is:</p>
<p><code>nc -l -p 5000 -e /system/bin/sh</code></p>
<h1>Simple</h1>
<p>You should be able to run the process above in any Android device. It does not require root and that is why, you have to update your <code>PATH</code> env variable, everytime you want to use the tools provided by your own <code>busybox</code>.</p>
<p>If your phone is rooted you can enable write permissions in your <code>system</code> partition and install busybox there, so it is always in the path.</p>
<p>As I said, quick and easy <img src="../../images/emoji/twitter/wink.png%3Fv=9" title=":wink:" class="emoji" alt=":wink:"></p>
<p>Hack Fun!</p>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="11" />
<span class="post-likes">11 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="0" />
</div>
<div class="crawler-linkback-list" itemscope itemtype="http://schema.org/ItemList">
<div itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
<a itemprop="url" href="../programming-for-wannabes-part-ii-and-a-half/1196.html">Programming for Wannabes. Part II and a Half</a>
<meta itemprop="position" content="2">
</div>
<div itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
<a itemprop="url" href="../deadlysignals-tool/4285/10.html">DeadlySignals Tool</a>
<meta itemprop="position" content="3">
</div>
</div>
</div>
<div id="post_2" itemprop="comment" itemscope itemtype="http://schema.org/Comment" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/Cromical"><span itemprop="name">Cromical</span></a>
</span>
<link itemprop="mainEntityOfPage" href="886.html">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2016-08-03T04:56:23Z" class="post-time">
August 3, 2016, 4:56am
</time>
<meta itemprop="dateModified" content="2016-08-03T04:56:23Z">
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Thanks mate! <img src="../../images/emoji/twitter/slight_smile.png%3Fv=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="1" />
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="0" />
</div>
</div>
<div id="post_3" itemprop="comment" itemscope itemtype="http://schema.org/Comment" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/SmartOne"><span itemprop="name">SmartOne</span></a>
(Not a N00b, but still learning)
</span>
<link itemprop="mainEntityOfPage" href="886.html">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2016-08-05T11:21:07Z" class="post-time">
August 5, 2016, 11:21am
</time>
<meta itemprop="dateModified" content="2016-08-05T11:21:07Z">
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Whoa, such a great Post!! <img src="../../images/emoji/twitter/smiley.png%3Fv=9" title=":smiley:" class="emoji" alt=":smiley:"> I knew about the Android Shell, but not that I could recompile it.</p>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="3" />
<span class="post-likes">3 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="0" />
</div>
</div>
<div id="post_4" itemprop="comment" itemscope itemtype="http://schema.org/Comment" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/system"><span itemprop="name">system</span></a>
(system)
Closed
</span>
<link itemprop="mainEntityOfPage" href="886.html">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2018-01-21T00:36:46Z" class="post-time">
January 21, 2018, 12:36am
</time>
<meta itemprop="dateModified" content="2018-01-21T00:36:46Z">
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<p>This topic was automatically closed after 30 days. New replies are no longer allowed.</p>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="0" />
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="0" />
</div>
</div>
</div>
</div>
<footer class="container wrap">
<nav class="crawler-nav">
<ul>
<li itemscope itemtype="http://schema.org/SiteNavigationElement">
<span itemprop="name">
<a href="../../index.html" itemprop="url">Home </a>
</span>
</li>
<li itemscope itemtype="http://schema.org/SiteNavigationElement">
<span itemprop="name">
<a href="../../categories.html" itemprop="url">Categories </a>
</span>
</li>
<li itemscope itemtype="http://schema.org/SiteNavigationElement">
<span itemprop="name">
<a href="https://0x00sec.org/guidelines" itemprop="url">FAQ/Guidelines </a>
</span>
</li>
<li itemscope itemtype="http://schema.org/SiteNavigationElement">
<span itemprop="name">
<a href="../../tos.html" itemprop="url">Terms of Service </a>
</span>
</li>
<li itemscope itemtype="http://schema.org/SiteNavigationElement">
<span itemprop="name">
<a href="../../privacy.html" itemprop="url">Privacy Policy </a>
</span>
</li>
</ul>
</nav>
<p class="powered-by-link">Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>
<script src="https://instant.page/3.0.0" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>
</body>
</html>
