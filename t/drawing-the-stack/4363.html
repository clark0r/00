<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Drawing the Stack - Reverse Engineering - 0x00sec - The Home of the Hacker</title>
<meta name="description" content="Intro
I’m new to everything demonstrated below, so be forewarned of potential errors.  This technique of drawing the stack was something a professor hammered into the class this year.  Let’s dive in! 
Author Assigned Lev&amp;hellip;">
<meta name="generator" content="Discourse 3.1.0.beta6 - https://github.com/discourse/discourse version 80a1709965fa59da824b2e3392976fc6fc898f80">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/30c4e7d76acf879a124fdfe4d8d126afe628c189_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/c/c5e37f667fd0fe006ffa67653c662fb64fec597e_2_180x180.png">
<meta name="theme-color" media="all" content="#171616">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="4363.html" />
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="0x00sec - The Home of the Hacker Search">
<link href="../../stylesheets/color_definitions_0x00sec-v2_15_57_a5ef387651921c3e4c7aa1108536015ba8299efb.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" class="light-scheme" />
<link href="../../stylesheets/desktop_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="desktop" />
<link href="../../stylesheets/chat_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="chat" />
<link href="../../stylesheets/discourse-details_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-details" />
<link href="../../stylesheets/discourse-lazy-videos_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-lazy-videos" />
<link href="../../stylesheets/discourse-local-dates_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-local-dates" />
<link href="../../stylesheets/discourse-narrative-bot_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-narrative-bot" />
<link href="../../stylesheets/discourse-presence_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-presence" />
<link href="../../stylesheets/discourse-spoiler-alert_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-spoiler-alert" />
<link href="../../stylesheets/docker_manager_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="docker_manager" />
<link href="../../stylesheets/poll_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="poll" />
<link href="../../stylesheets/chat_desktop_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="chat_desktop" />
<link href="../../stylesheets/poll_desktop_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="poll_desktop" />
<link href="../../stylesheets/desktop_theme_46_f36ade55bf80933494fe3b5fab518f477de3bd4e.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="46" data-theme-name="header links v2" />
<link href="../../stylesheets/desktop_theme_57_8c0e890a61cdb4c5833a9f9c96664ed164e7d645.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="57" data-theme-name="0x00sec-v2" />
<link rel="stylesheet" href="https://s3.amazonaws.com/0x00sec/monokai-sublime.css">
<script src="https://s3.amazonaws.com/0x00sec/highlight.pack.js"></script>
<link rel="preload" href="../../theme-javascripts/440fd21108f5ba9e5dfe06cca9fc842569d5a874.js%3F__ws=0x00sec.org" as="script">
<script defer src="../../theme-javascripts/440fd21108f5ba9e5dfe06cca9fc842569d5a874.js%3F__ws=0x00sec.org" data-theme-id="40"></script>
<link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Drawing the Stack&#39;" href="4363.rss" />
<meta property="og:site_name" content="0x00sec - The Home of the Hacker" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://0x00sec.org/uploads/default/original/2X/2/27a5373af868edade07624e8205c46e79c247445.jpeg" />
<meta property="og:image" content="https://0x00sec.org/uploads/default/original/2X/2/27a5373af868edade07624e8205c46e79c247445.jpeg" />
<meta property="og:url" content="https://0x00sec.org/t/drawing-the-stack/4363" />
<meta name="twitter:url" content="https://0x00sec.org/t/drawing-the-stack/4363" />
<meta property="og:title" content="Drawing the Stack" />
<meta name="twitter:title" content="Drawing the Stack" />
<meta property="og:description" content="Intro I’m new to everything demonstrated below, so be forewarned of potential errors.  This technique of drawing the stack was something a professor hammered into the class this year.  Let’s dive in!  Author Assigned Level: Newbie Community Assigned Level: poll Required Skills Since C and Assembly are used, C and Assembly would be useful to know before reading.  The examples, however, should be simple enough for any beginner to read and understand from context.  C Nothing fancy here:  #include &lt;s..." />
<meta name="twitter:description" content="Intro I’m new to everything demonstrated below, so be forewarned of potential errors.  This technique of drawing the stack was something a professor hammered into the class this year.  Let’s dive in!  Author Assigned Level: Newbie Community Assigned Level: poll Required Skills Since C and Assembly are used, C and Assembly would be useful to know before reading.  The examples, however, should be simple enough for any beginner to read and understand from context.  C Nothing fancy here:  #include &lt;s..." />
<meta property="og:article:section" content="Reverse Engineering" />
<meta property="og:article:section:color" content="12A89D" />
<meta property="og:article:tag" content="reverseengineering" />
<meta property="og:article:tag" content="tutorial" />
<meta property="og:article:tag" content="stack" />
<meta property="og:article:tag" content="assembly" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="4 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="22 ❤" />
<meta property="article:published_time" content="2017-11-16T03:31:47+00:00" />
<meta property="og:ignore_canonical" content="true" />
</head>
<body class="crawler ">
<div id="top-navbar" class="container">
<span id="top-navbar-links" style="display:none;">

<a href="https://init.0x00sec.org" class="dow-menu">Init</a>
<a href="https://discord.gg/c6BHVfn" class="dow-menu">Discord</a>
<a href="https://init.0x00sec.org/?partners" class="dow-menu">Partners</a>
</span>
</div>
<header>
<a href="../../index.html">
0x00sec - The Home of the Hacker
</a>
</header>
<div id="main-outlet" class="wrap" role="main">
<div id="topic-title">
<h1>
<a href="4363.html">Drawing the Stack</a>
</h1>
<div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
<a href="../../c/reverse-engineering/58.html" class="badge-wrapper bullet" itemprop="item">
<span class="badge-category-bg" style="background-color: #12A89D"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Reverse Engineering</span>
</span>
</a>
<meta itemprop="position" content="1" />
</span>
</div>
<div class="topic-category">
<div class="discourse-tags list-tags">
<a href="../../tag/reverseengineering.html" class="discourse-tag" rel="tag">reverseengineering</a>,
<a href="../../tag/tutorial.html" class="discourse-tag" rel="tag">tutorial</a>,
<a href="../../tag/stack.html" class="discourse-tag" rel="tag">stack</a>,
<a href="../../tag/assembly.html" class="discourse-tag" rel="tag">assembly</a>
</div>
</div>
</div>
<div itemscope itemtype="http://schema.org/DiscussionForumPosting">
<meta itemprop="headline" content="Drawing the Stack">
<meta itemprop="articleSection" content="Reverse Engineering">
<meta itemprop="keywords" content="reverseengineering, tutorial, stack, assembly">
<div itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
<meta itemprop="name" content="0x00sec - The Home of the Hacker">
<div itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
<meta itemprop="url" content="https://0x00sec.org/uploads/default/original/2X/c/c5e37f667fd0fe006ffa67653c662fb64fec597e.png">
</div>
</div>
<div id="post_1" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/fi6uh"><span itemprop="name">fi6uh</span></a>
(the real skid shady)
</span>
<link itemprop="mainEntityOfPage" href="4363.html">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2017-11-16T03:31:47Z" class="post-time">
November 16, 2017, 3:31am
</time>
<meta itemprop="dateModified" content="2017-11-17T00:56:15Z">
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<h1>Intro</h1>
<p>I’m new to everything demonstrated below, so be forewarned of potential errors. This technique of drawing the stack was something a professor hammered into the class this year. Let’s dive in!</p>
<h4>Author Assigned Level: Newbie</h4>
<h4>Community Assigned Level:</h4>
<div class="poll" data-poll-status="open" data-poll-type="regular" data-poll-name="poll">
<div>
<div class="poll-container">
<ul>
<li data-poll-option-id="e1c1af66349ae633fa9ffd223d9e01f3">Newbie</li>
<li data-poll-option-id="48cde21e0fcdef5aef447a332bb6dcc0">Wannabe</li>
<li data-poll-option-id="f0d5a092a44bae0d9f0734127a07fe91">Hacker</li>
<li data-poll-option-id="d0be935ef28646b5afecbf524d510b85">Wizard</li>
<li data-poll-option-id="cc5e4d9a5dc2c4d9aa641ef7a2a97876">Guru</li>
</ul>
</div>
<div class="poll-info">
<p>
<span class="info-number">0</span>
<span class="info-label">voters</span>
</p>
</div>
</div>
</div>
<h4>Required Skills</h4>
<p>Since C and Assembly are used, C and Assembly would be useful to know before reading. The examples, however, should be simple enough for any beginner to read and understand from context.</p>
<h1>C</h1>
<p>Nothing fancy here:</p>
<pre><code class="lang-auto">#include &lt;stdio.h&gt;

int callMe(int num1, int num2);

int main() {
	int a = 0;
	int b = 2;
	int c = callMe(a, b);
	printf("%d\n", c);
	return 0;
}

int callMe(int num1, int num2) {
	int ans = num1+num2;
	return ans;
}

</code></pre>
<h1>Assembly</h1>
<pre><code class="lang-auto">   ; main()
   &lt;+0&gt;:	push   rbp
   &lt;+1&gt;:	mov    rbp,rsp
   &lt;+4&gt;:	sub    rsp,0x10
   &lt;+8&gt;:	mov    DWORD PTR [rbp-0xc],0x0
   &lt;+15&gt;:	mov    DWORD PTR [rbp-0x8],0x2
   &lt;+22&gt;:	mov    edx,DWORD PTR [rbp-0x8]
   &lt;+25&gt;:	mov    eax,DWORD PTR [rbp-0xc]
   &lt;+28&gt;:	mov    esi,edx
   &lt;+30&gt;:	mov    edi,eax
   &lt;+32&gt;:	call   0x68f &lt;callMe&gt;
   &lt;+37&gt;:	mov    DWORD PTR [rbp-0x4],eax
   &lt;+40&gt;:	mov    eax,DWORD PTR [rbp-0x4]
   &lt;+43&gt;:	mov    esi,eax
   &lt;+45&gt;:	lea    rdi,[rip+0xb6]        # 0x734
   &lt;+52&gt;:	mov    eax,0x0
   &lt;+57&gt;:	call   0x530 &lt;printf@plt&gt;
   &lt;+62&gt;:	mov    eax,0x0
   &lt;+67&gt;:	leave  
   &lt;+68&gt;:	ret    

   ; callMe()
   &lt;+0&gt;:	push   rbp
   &lt;+1&gt;:	mov    rbp,rsp
   &lt;+4&gt;:	mov    DWORD PTR [rbp-0x14],edi
   &lt;+7&gt;:	mov    DWORD PTR [rbp-0x18],esi
   &lt;+10&gt;:	mov    edx,DWORD PTR [rbp-0x14]
   &lt;+13&gt;:	mov    eax,DWORD PTR [rbp-0x18]
   &lt;+16&gt;:	add    eax,edx
   &lt;+18&gt;:	mov    DWORD PTR [rbp-0x4],eax
   &lt;+21&gt;:	mov    eax,DWORD PTR [rbp-0x4]
   &lt;+24&gt;:	pop    rbp
   &lt;+25&gt;:	ret
</code></pre>
<p>In short, <code>main()</code> passes <code>a</code> and <code>b</code> to <code>callMe()</code> through <code>edi</code> and <code>esi</code>, which returns <code>a + b</code> in <code>eax</code>.</p>
<hr>
<h1>The stack</h1>
<p>Now that we can see the assembly, we can draw out exactly how the stack looks and have a better understanding of what our code is doing. A practical use for drawing the stack is for debugging, but it’s also a fun exercise (which is what spawned this topic)!</p>
<p>The stack grows from high addresses to low addresses, top to bottom. Typically, we reason about the stack such that the low addresses are on top; in this sense, we will be using an “inverted stack” in our depictions.</p>
<h4>
<code>main()</code>: lines <code>&lt;+0&gt;</code> and <code>&lt;+1&gt;</code>
</h4>
<pre><code class="lang-auto">   &lt;+0&gt;:	push   rbp
   &lt;+1&gt;:	mov    rbp,rsp
</code></pre>
<p>The very first stack modification is <code>push rbp</code>, from <code>main()</code>. <code>rbp</code> is a 64 bit register, so it takes up 4 rows on the stack (each row is word-sized, which is 2 bytes):</p>
<pre><code>&lt; high addresses &gt;
|      |
|------|
| **** |
|------|
| **** |
|------|
| **** |
|------|
| **** | &lt;-- RBP and RSP (main)
|------|
|      |
&lt; low addresses &gt;
</code></pre>
<p><code>rbp</code> is used as a helper register for performing stack functions. It is used as a “base” when traversing up or down through the stack. Using <code>rbp</code> in this manner is also a way to setup and use local variables, which we will talk about later on.</p>
<p>A common analogy for this technique is “dropping an anchor”. <code>rsp</code> changes constantly, as the stack grows and shrinks; copying its current value to <code>rbp</code> “anchors” it for however you want to use it, while still allowing you to push and pop.</p>
<p>Moving on!</p>
<hr>
<h4>
<code>main()</code>: line <code>&lt;+4&gt;</code>
</h4>
<pre><code class="lang-auto">   &lt;+4&gt;:	sub    rsp,0x10
</code></pre>
<p>This instruction makes space on the stack to store local variables, in our case <code>int a</code> and <code>int b</code>, both 32-bits. Now I know I said we shouldn’t mess with <code>rsp</code>, but moving the stack pointer is how you can create local variables.</p>
<p>Since <code>a</code> and <code>b</code> are both integers, we need to allocate a minimum of 64 bits on the stack. On this line, we can see that 16 bytes have been allocated, by subtracting <code>0x10</code> from <code>rsp</code>'s current value. Here is what our stack looks like after this instruction:</p>
<pre><code>|      |
|------|
| **** |
|------|
| **** |
|------|
| **** |
|------|
| **** | &lt;-- RBP (main)
|------|
|      | -0x2
|------|
|      | -0x4
|------|
|      | -0x6
|------|
|      | -0x8
|------|
|      | -0xa
|------|
|      | -0xc
|------|
|      | -0xe
|------|
|      | &lt;-- RSP (main)
|------|
|      |
</code></pre>
<p>Now that we have this space allocated, <code>rsp</code> is once again “fixed” to it’s current location; we can use <code>rbp</code> to access the spaces allocated by <code>rsp</code>.</p>
<p>As we will see, this is done by subtracting some number of bytes, 0xn, such that <code>[rsp-0xn]</code> points to the last byte. How far up to <em>read</em> is determined by another factor, which we will see below.</p>
<hr>
<h4>
<code>main()</code>: lines <code>&lt;+8&gt;</code> - <code>&lt;+25&gt;</code>
</h4>
<pre><code class="lang-auto">   &lt;+8&gt;:	mov    DWORD PTR [rbp-0xc],0x0
   &lt;+15&gt;:	mov    DWORD PTR [rbp-0x8],0x2
   &lt;+22&gt;:	mov    edx,DWORD PTR [rbp-0x8]
   &lt;+25&gt;:	mov    eax,DWORD PTR [rbp-0xc]
</code></pre>
<p>Within the first two lines, we are initializing our local variables, <code>a</code> and <code>b</code>, to <code>0</code> and <code>2</code>, respectively.</p>
<p>When accessing the stack, the assembler cannot infer the size of the object we want to retrieve (or set); so we have to specify it ourselves. <code>DWORD PTR [rbp-0xc]</code> tells the assembler “hey, we want you to look at the value at <code>[rbp-0xc]</code> and read 4 bytes (2 words, specified by <code>DWORD</code>)”.</p>
<p>When we are accessing the stack, I mentioned that <code>[rsp-0xn]</code>, for some hex <code>n</code>, points to the “last byte”: this is specifically the last byte of the size you specify. So for <code>DWORD PTR [rbp-0xc]</code>, the assembler goes to <code>[rbp-0xc]</code> on the stack, and then reads “up” 4 bytes.</p>
<p>With that said, here’s how our stack looks now that some values have been initialized:</p>
<pre><code>|      |
|------|
| **** |
|------|
| **** |
|------|
| **** |
|------|
| **** | &lt;-- RBP (main)
|------|
|      | -0x2
|------|
|      | -0x4
|------|
| 0000 | -0x6  \
|------|        | int b = 2;
| 0002 | -0x8  /
|------|
| 0000 | -0xa  \
|------|        | int a = 0;
| 0000 | -0xc  /
|------|
|      | -0xe
|------|
|      | &lt;-- RSP (main)
|------|
|      |
</code></pre>
<ul>
<li>
<em>Note</em>: for the purposes of this tutorial, we will not take into account endianness</li>
</ul>
<p>As you can clearly see, we have initialized some local variables on the stack <em>without</em> modifying <code>rsp</code> or <code>rbp</code>.</p>
<p>The other two lines do not modify the stack, but simply retrieve values from it. This notation is of the same manner that adding things <em>to</em> the stack is, except the memory operand is the 2nd operand of the instruction (and not the 1st).</p>
<p>The important thing to note is that we have copied <code>a</code> into <code>eax</code> and <code>b</code> into <code>edx</code>.</p>
<p>Onward!</p>
<hr>
<h4>
<code>main()</code>: lines <code>&lt;+28&gt;</code> - <code>&lt;+30&gt;</code>
</h4>
<pre><code class="lang-auto">   &lt;+28&gt;:	mov    esi,edx
   &lt;+30&gt;:	mov    edi,eax
   &lt;+32&gt;:	call   0x68f &lt;callMe&gt;
</code></pre>
<p>These first two lines are nothing special: we are moving <code>a</code> into <code>edi</code> and <code>b</code> into <code>esi</code>. These two registers are used to pass the arguments to the <code>callMe()</code> function, which is what happens next.</p>
<p>When the <code>call</code> instruction is executed, it pushes the address of the next instruction onto the stack (<code>rip</code>); it then copies the address of the called procedure into <code>rip</code>. This modifies our stack:</p>
<pre><code>|      |
|------|
| **** |
|------|
| **** |
|------|
| **** |
|------|
| **** | &lt;-- RBP (main)
|------|
|      | -0x2
|------|
|      | -0x4
|------|
| 0000 | -0x6  \
|------|        | int b = 2;
| 0002 | -0x8  /
|------|
| **** |          * int a was overwritten,
|------|            as it is never used again
| **** |
|------|
| **** |
|------|
| **** | &lt;-- RIP (main)
|------|
|      |
</code></pre>
<p>At this point, we are now in <code>callMe()</code>.</p>
<hr>
<h4>
<code>callMe()</code>: lines <code>&lt;+0&gt;</code> and <code>&lt;+1&gt;</code>
</h4>
<pre><code class="lang-auto">   &lt;+0&gt;:	push   rbp
   &lt;+1&gt;:	mov    rbp,rsp
</code></pre>
<p>This should look familiar…</p>
<p>We are once again dropping an anchor, this time saving “old” <code>rbp</code>'s value (since we use it again after this function returns). Here’s how our stack looks now:</p>
<pre><code>|      |
|------|
| **** |
|------|
| **** |
|------|
| **** |
|------|
| **** |
|------|
|      | 
|------|
|      | 
|------|
| 0000 | 
|------|        
| 0002 | 
|------|
| **** |         
|------|  
| **** |
|------|
| **** |
|------|
| **** | &lt;-- RIP (main)
|------|
| **** |
|------|
| **** |
|------|
| **** |
|------|
| **** | &lt;-- RBP (callMe)
|------|
|      |
</code></pre>
<p>One important thing to notice here is that we didn’t modify <code>rsp</code>. This is because we want the stack to “look the same” when we enter and leave a function. This will be covered in a bit more detail later on.</p>
<hr>
<h4>
<code>callMe()</code>: lines <code>&lt;+4&gt;</code> - <code>&lt;+13&gt;</code>
</h4>
<pre><code class="lang-auto">   &lt;+4&gt;:	mov    DWORD PTR [rbp-0x14],edi
   &lt;+7&gt;:	mov    DWORD PTR [rbp-0x18],esi
   &lt;+10&gt;:	mov    edx,DWORD PTR [rbp-0x14]
   &lt;+13&gt;:	mov    eax,DWORD PTR [rbp-0x18]
</code></pre>
<p>These instructions should <em>also</em> look familiar, as they were executed earlier almost verbatim. The important difference is that in the first two lines here, we are initializing <code>int num1</code> and <code>int num2</code> with the values inside <code>edi</code> and <code>esi</code>, respectively.</p>
<p>Here is how our stack looks after these instructions:</p>
<pre><code>|      |
|------|
| **** |
|------|
| **** |
|------|
| **** |
|------|
| **** |
|------|
|      | 
|------|
|      | 
|------|
| 0000 | 
|------|        
| 0002 | 
|------|
| **** |         
|------|  
| **** |
|------|
| **** |
|------|
| **** | &lt;-- RIP (main)
|------|
| **** |
|------|
| **** |
|------|
| **** |
|------|
| **** | &lt;-- RBP, RSP (callMe)
|------|
|      | -0x2
|------|
|      | -0x4
|------|
|      | -0x6     
|------|
|      | -0x8
|------|
|      | -0xA     
|------|
|      | -0xC
|------|
|      | -0xE     
|------|
|      | -0x10
|------|
| 0000 | -0x12    
|------|
| 0000 | -0x14
|------|
| 0000 | -0x16    
|------|
| 0002 | -0x18
|------|
|      |
</code></pre>
<p>You will notice that assembly provided us with <em>way</em> more stack space than necessary; I am not sure why that much padding is there, but the best answer I can find is <a href="https://stackoverflow.com/questions/9862017/stack-allocation-why-the-extra-space" rel="nofollow noopener">here</a>. Please join in on the discussion in the comments if you can explain this further.</p>
<p>Now to the guts of this function!</p>
<hr>
<h4>
<code>callMe()</code>: lines <code>&lt;+16&gt;</code> - <code>&lt;+21&gt;</code>
</h4>
<pre><code class="lang-auto">   &lt;+16&gt;:	add    eax,edx
   &lt;+18&gt;:	mov    DWORD PTR [rbp-0x4],eax
   &lt;+21&gt;:	mov    eax,DWORD PTR [rbp-0x4]
</code></pre>
<p>These instructions are pretty straight forward: add <code>b</code> and <code>a</code> and store that value on the stack:</p>
<pre><code>|      |
|------|
| **** |
|------|
| **** |
|------|
| **** |
|------|
| **** |
|------|
|      | 
|------|
|      | 
|------|
| 0000 | 
|------|        
| 0002 | 
|------|
| **** |         
|------|  
| **** |
|------|
| **** |
|------|
| **** | &lt;-- RIP (main)
|------|
| **** |
|------|
| **** |
|------|
| **** |
|------|
| **** | &lt;-- RBP, RSP (callMe)
|------|
| 0000 | -0x2
|------|
| 0002 | -0x4
|------|
|      | -0x6     
|------|
|      | -0x8
|------|
|      | -0xA     
|------|
|      | -0xC
|------|
|      | -0xE     
|------|
|      | -0x10
|------|
| 0000 | -0x12    
|------|
| 0000 | -0x14
|------|
| 0000 | -0x16    
|------|
| 0002 | -0x18
|------|
|      |
</code></pre>
<p>We then pull that value back into <code>eax</code> and move on.</p>
<hr>
<h4>
<code>callMe()</code>: lines <code>&lt;+24&gt;</code> and <code>&lt;+25&gt;</code>
</h4>
<pre><code class="lang-auto">   &lt;+24&gt;:	pop    rbp
   &lt;+25&gt;:	ret
</code></pre>
<p>This first line is what I mentioned earlier: we want the stack to look the same when we <em>leave</em> a function as it did when we entered. Because we never modified <code>rsp</code> within <code>callMe()</code>, it is still pointing to <code>rbp</code>'s old value from when we used it in <code>main()</code>.</p>
<p>The other “cool” thing about not shifting <code>rsp</code> on this go around has to do with <code>ret</code>. When <code>ret</code> is executed, it pops the top of the stack into <code>rip</code>. After popping <code>rbp</code>, <code>rsp</code> points to <code>main()</code>'s return address. This means that those variables we just stored on the stack within <code>callMe()</code> will get “wiped out”.</p>
<p>Now I put “wiped out” in quotes because what’s actually happening is that <code>rsp</code> changes and we lose access to those locals. They don’t get erased though (until <code>rsp</code> overwrites them), which raises some fun vulnerabilities outside the scope of this tutorial.</p>
<p>As you can see, popping <code>rbp</code> and <code>ret</code>urning significantly changes our stack:</p>
<pre><code>|      |
|------|
| **** |
|------|
| **** |
|------|
| **** |
|------|
| **** | &lt;-- RBP (main)
|------|
|      | 
|------|
|      | 
|------|
| 0000 | 
|------|        
| 0002 | &lt;-- RSP (main)
|------|
|      |
</code></pre>
<p><code>rbp</code> has been restored to its original (to <code>main()</code>) value, and <code>rsp</code> is pointing to the first byte preceding <code>rip</code> (before it was popped).</p>
<p>Onto the final instructions!</p>
<hr>
<h4>
<code>main()</code>: line <code>&lt;+37&gt;</code>
</h4>
<pre><code class="lang-auto">   &lt;+37&gt;:	mov    DWORD PTR [rbp-0x4],eax
</code></pre>
<p><code>callMe()</code> passed our answer (<code>2</code>) back to <code>main()</code> inside <code>eax</code>; this instruction simply stores that value on the stack:</p>
<pre><code>|      |
|------|
| **** |
|------|
| **** |
|------|
| **** |
|------|
| **** | &lt;-- RBP (main)
|------|
| 0000 | -0x2
|------|
| 0002 | -0x4
|------|
| 0000 | 
|------|        
| 0002 | &lt;-- RSP (main)
|------|
|      |
</code></pre>
<p>BOOM!</p>
<p>At this point, we have saved <code>a+b</code> on the stack and, for the purposes of this tutorial, we are finished. The next set of instructions is setting up to <code>printf()</code> our calculated value, but we have covered all the fun stuff now.</p>
<hr>
<h1>Conclusions</h1>
<p>Drawing the stack can help you debug, explore vulnerabilities, or kill some time; it assists in giving you an empirical understanding of exactly what a program is doing.</p>
<p>This example was simple (yet still required a long-winded post), but you can do this for anything you want.</p>
<p>Carry on!</p>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="8" />
<span class="post-likes">8 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="1" />
</div>
</div>
<div id="post_2" itemprop="comment" itemscope itemtype="http://schema.org/Comment" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/dtm"><span itemprop="name">dtm</span></a>
</span>
<link itemprop="mainEntityOfPage" href="4363.html">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2017-11-16T05:18:01Z" class="post-time">
November 16, 2017, 5:18am
</time>
<meta itemprop="dateModified" content="2017-11-16T06:43:39Z">
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Stacks go up, not down. The lower addresses are towards the top, not the bottom, so subtracting means going up. <img src="../../images/emoji/twitter/wink.png%3Fv=9" title=":wink:" class="emoji" alt=":wink:"></p>
<p>Also, I would not put the <code>rip</code> label on the stack view because it might be confusing to people as it is constantly changing values whereas <code>rsp</code> and <code>rbp</code> may stay the same.</p>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="2" />
<span class="post-likes">2 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="1" />
</div>
</div>
<div id="post_3" itemprop="comment" itemscope itemtype="http://schema.org/Comment" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/_py"><span itemprop="name">_py</span></a>
</span>
<link itemprop="mainEntityOfPage" href="4363.html">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2017-11-16T06:08:53Z" class="post-time">
November 16, 2017, 6:08am
</time>
<meta itemprop="dateModified" content="2017-11-16T06:15:01Z">
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<aside class="quote no-group quote-modified" data-username="fi6uh" data-post="1" data-topic="4363">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/0x00sec.org/fi6uh/40/4690_2.png" class="avatar"> fi6uh:</div>
<blockquote>
<p>We don’t really care what is in rbp, but we push it for a couple reasons:</p>
<p>For main(), rbp doesn’t contain anything necessary, but it could; therefore, we push it.<br>
We don’t want to mess around with rsp unless necessary. So instead, we push rbp and then copy rsp’s current value into rbp. Then we can manipulate the stack without modifying rsp.</p>
</blockquote>
</aside>
<p>[1] rbp/ebp is vital for main()’s and any other function’s well being. It works as a boundary between the local variables and the arguments of a function (mostly on 32-bit but function arguments are also pushed on the stack after a certain number of arguments on 64-bit). Actually its usage is so important that tampering with its value is an exploitation technique called stack pivoting (google is your friend <img src="../../images/emoji/twitter/slight_smile.png%3Fv=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"> ).</p>
<p>[2] There are many cases where rsp/esp is used to refer to local variables.</p>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="2" />
<span class="post-likes">2 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="1" />
</div>
</div>
<div id="post_5" itemprop="comment" itemscope itemtype="http://schema.org/Comment" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/Noswis"><span itemprop="name">Noswis</span></a>
</span>
<link itemprop="mainEntityOfPage" href="4363.html">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2017-11-16T09:20:10Z" class="post-time">
November 16, 2017, 9:20am
</time>
<meta itemprop="dateModified" content="2017-11-16T09:20:10Z">
<span itemprop="position">5</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I find it more intuitive to use the notation used here. Addresses go from high to low, so it makes sense that subtracting would mean going down on the stack instead of the other way around. Yes, an inverted stack would make no sense in real life but I think it’s easier to grasp the concept of the stack in this context when it is presented in this way.</p>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="0" />
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="1" />
</div>
</div>
<div id="post_6" itemprop="comment" itemscope itemtype="http://schema.org/Comment" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/dtm"><span itemprop="name">dtm</span></a>
</span>
<link itemprop="mainEntityOfPage" href="4363.html">
<link itemprop="image" href="https://0x00sec.s3.amazonaws.com/original/2X/2/21d85f025391619e0cc13ad9cf6e30e4c4c13d9e.png">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2017-11-16T09:41:06Z" class="post-time">
November 16, 2017, 9:41am
</time>
<meta itemprop="dateModified" content="2017-11-16T09:41:06Z">
<span itemprop="position">6</span>
</span>
</div>
<div class="post" itemprop="text">
<aside class="quote no-group" data-username="Noswis" data-post="5" data-topic="4363">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/n/ba8739/40.png" class="avatar"> Noswis:</div>
<blockquote>
<p>Addresses go from high to low, so it makes sense that subtracting would mean going down</p>
</blockquote>
</aside>
<p><img src="https://0x00sec.s3.amazonaws.com/original/2X/2/21d85f025391619e0cc13ad9cf6e30e4c4c13d9e.png" width="445" height="500"></p>
<p>Your downwards is a very strange direction. Or maybe it’s because I live in the southern hemisphere? <img src="../../images/emoji/twitter/wink.png%3Fv=9" title=":wink:" class="emoji" alt=":wink:"></p>
<div class="spoiler">
<p>Yeah I respect whatever convention you wanna follow, just trying to lure unwary users out there to believe in my God! <img src="../../images/emoji/twitter/smiling_imp.png%3Fv=9" title=":smiling_imp:" class="emoji" alt=":smiling_imp:"></p>
</div>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="4" />
<span class="post-likes">4 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="1" />
</div>
</div>
<div id="post_7" itemprop="comment" itemscope itemtype="http://schema.org/Comment" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/Noswis"><span itemprop="name">Noswis</span></a>
</span>
<link itemprop="mainEntityOfPage" href="4363.html">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2017-11-16T09:53:30Z" class="post-time">
November 16, 2017, 9:53am
</time>
<meta itemprop="dateModified" content="2017-11-16T09:53:30Z">
<span itemprop="position">7</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Well, I meant that the stack starts off from high memory addresses and grows towards lower memory addresses, so it would be intuitive to follow the direction of the stack growth imo. But yeah, people should view it the way that works best for them. <img src="../../images/emoji/twitter/grin.png%3Fv=9" title=":grin:" class="emoji" alt=":grin:"></p>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="0" />
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="2" />
</div>
</div>
<div id="post_8" itemprop="comment" itemscope itemtype="http://schema.org/Comment" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/fi6uh"><span itemprop="name">fi6uh</span></a>
(the real skid shady)
</span>
<link itemprop="mainEntityOfPage" href="4363.html">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2017-11-16T10:16:20Z" class="post-time">
November 16, 2017, 10:16am
</time>
<meta itemprop="dateModified" content="2017-11-16T10:33:06Z">
<span itemprop="position">8</span>
</span>
</div>
<div class="post" itemprop="text">
<aside class="quote no-group" data-username="_py" data-post="3" data-topic="4363">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/0x00sec.org/_py/40/4275_2.png" class="avatar"> _py:</div>
<blockquote>
<p>[1] rbp/ebp is vital for main()’s and any other function’s well being.</p>
</blockquote>
</aside>
<p>Poor choice of words on my part. Obviously we care what it is, because we push it; I was trying to convey that we don’t care about the literal value for drawing the stack</p>
<aside class="quote no-group" data-username="_py" data-post="3" data-topic="4363">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/0x00sec.org/_py/40/4275_2.png" class="avatar"> _py:</div>
<blockquote>
<p>[2] There are many cases where rsp/esp is used to refer to local variables.</p>
</blockquote>
</aside>
<p>I thought the later section(s) covered this, but I can make it more clear early on.</p>
<p>Thanks!</p>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="1" />
<span class="post-likes">1 Like</span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="0" />
</div>
</div>
<div id="post_9" itemprop="comment" itemscope itemtype="http://schema.org/Comment" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/fi6uh"><span itemprop="name">fi6uh</span></a>
(the real skid shady)
</span>
<link itemprop="mainEntityOfPage" href="4363.html">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2017-11-16T10:18:43Z" class="post-time">
November 16, 2017, 10:18am
</time>
<meta itemprop="dateModified" content="2017-11-16T10:18:43Z">
<span itemprop="position">9</span>
</span>
</div>
<div class="post" itemprop="text">
<aside class="quote no-group" data-username="Noswis" data-post="7" data-topic="4363">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/n/ba8739/40.png" class="avatar"> Noswis:</div>
<blockquote>
<p>the stack starts off from high memory addresses and grows towards lower memory addresses</p>
</blockquote>
</aside>
<p>This is the way I was taught to reason about the stack in school, so it is just the way that I do it. I can make more clear in the beginning the direction of high to low addressing.</p>
<p>Hopefully this clears any possible confusion for <a class="mention" href="https://0x00sec.org/u/dtm">@dtm</a> and others</p>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="0" />
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="1" />
</div>
</div>
<div id="post_10" itemprop="comment" itemscope itemtype="http://schema.org/Comment" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/dtm"><span itemprop="name">dtm</span></a>
</span>
<link itemprop="mainEntityOfPage" href="4363.html">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2017-11-16T11:04:42Z" class="post-time">
November 16, 2017, 11:04am
</time>
<meta itemprop="dateModified" content="2017-11-16T11:04:42Z">
<span itemprop="position">10</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I’m just messin’ with ya guys haha. But just a heads up for anyone who doesn’t follow your convention.</p>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="0" />
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="0" />
</div>
</div>
<div id="post_11" itemprop="comment" itemscope itemtype="http://schema.org/Comment" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/0x00pf"><span itemprop="name">0x00pf</span></a>
(pico)
</span>
<link itemprop="mainEntityOfPage" href="4363.html">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2017-11-16T17:45:45Z" class="post-time">
November 16, 2017, 5:45pm
</time>
<meta itemprop="dateModified" content="2017-11-16T17:45:45Z">
<span itemprop="position">11</span>
</span>
</div>
<div class="post" itemprop="text">
<aside class="quote no-group" data-username="Noswis" data-post="7" data-topic="4363">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../letter_avatar_proxy/v4/letter/n/ba8739/40.png" class="avatar"> Noswis:</div>
<blockquote>
<p>I meant that the stack starts off from high memory addresses and grows towards lower memory</p>
</blockquote>
</aside>
<p>That is not always the case, but it is true that is the most common case. This is actually platform/processor dependant.</p>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="5" />
<span class="post-likes">5 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="0" />
</div>
</div>
<div id="post_12" itemprop="comment" itemscope itemtype="http://schema.org/Comment" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/system"><span itemprop="name">system</span></a>
(system)
Closed
</span>
<link itemprop="mainEntityOfPage" href="4363.html">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2017-12-16T04:09:28Z" class="post-time">
December 16, 2017, 4:09am
</time>
<meta itemprop="dateModified" content="2017-12-16T04:09:28Z">
<span itemprop="position">12</span>
</span>
</div>
<div class="post" itemprop="text">
<p>This topic was automatically closed after 30 days. New replies are no longer allowed.</p>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="0" />
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="0" />
</div>
</div>
</div>
</div>
<footer class="container wrap">
<nav class="crawler-nav">
<ul>
<li itemscope itemtype="http://schema.org/SiteNavigationElement">
<span itemprop="name">
<a href="../../index.html" itemprop="url">Home </a>
</span>
</li>
<li itemscope itemtype="http://schema.org/SiteNavigationElement">
<span itemprop="name">
<a href="../../categories.html" itemprop="url">Categories </a>
</span>
</li>
<li itemscope itemtype="http://schema.org/SiteNavigationElement">
<span itemprop="name">
<a href="https://0x00sec.org/guidelines" itemprop="url">FAQ/Guidelines </a>
</span>
</li>
<li itemscope itemtype="http://schema.org/SiteNavigationElement">
<span itemprop="name">
<a href="../../tos.html" itemprop="url">Terms of Service </a>
</span>
</li>
<li itemscope itemtype="http://schema.org/SiteNavigationElement">
<span itemprop="name">
<a href="../../privacy.html" itemprop="url">Privacy Policy </a>
</span>
</li>
</ul>
</nav>
<p class="powered-by-link">Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>
<script src="https://instant.page/3.0.0" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>
</body>
</html>
