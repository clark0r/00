<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Routing Protocols ~ OSPF ~ Part II - Networking - 0x00sec - The Home of the Hacker</title>
    <meta name="description" content="Hello homies and homettes. I hope you are all having a great day so far. Welcome to Part 2 of the routing protocols series regarding OSPF. This time we are going to dig deeper in OSPF and try to visualize the ‚Äúlow-level‚Äù&amp;hellip;">
    <meta name="generator" content="Discourse 3.6.0.beta2-latest - https://github.com/discourse/discourse version 3b1964f3ed8bdc2f181e2abccb1b116e4b814db5">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/2X/3/30c4e7d76acf879a124fdfe4d8d126afe628c189_2_32x32.html">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/c/c5e37f667fd0fe006ffa67653c662fb64fec597e_2_180x180.html">
<meta name="theme-color" media="all" content="#171616">

<meta name="color-scheme" content="dark">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="658.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="0x00sec - The Home of the Hacker Search">

    
    <link href="../../stylesheets/color_definitions_0x00sec-v2_15_57_dfa17f5b2e0faf8b274cd749dd7dab92384218d4.css_%3b%20filename_%3dUTF-8%27%27color_definitions_0x00sec-v2_15_57_dfa17f5b2e0faf8b274cd749dd7dab92384218d4a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" class="light-scheme" data-scheme-id="15"/>

<link href="../../stylesheets/common_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27common_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="common"  />

  <link href="../../stylesheets/mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(max-width: 39.99999rem)" rel="stylesheet" data-target="mobile"  />
  <link href="../../stylesheets/desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(min-width: 40rem)" rel="stylesheet" data-target="desktop"  />



    <link href="../../stylesheets/chat_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27chat_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="chat"  />
    <link href="../../stylesheets/checklist_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27checklist_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="checklist"  />
    <link href="../../stylesheets/discourse-cakeday_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-cakeday_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-cakeday"  />
    <link href="../../stylesheets/discourse-details_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-details_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="../../stylesheets/discourse-lazy-videos_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-lazy-videos_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="../../stylesheets/discourse-local-dates_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-local-dates_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="../../stylesheets/discourse-narrative-bot_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-narrative-bot_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="../../stylesheets/discourse-presence_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-presence_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="../../stylesheets/discourse-solved_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-solved_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-solved"  />
    <link href="../../stylesheets/discourse-templates_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-templates_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-templates"  />
    <link href="../../stylesheets/discourse-topic-voting_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-topic-voting_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="discourse-topic-voting"  />
    <link href="../../stylesheets/docker_manager_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27docker_manager_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="../../stylesheets/footnote_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27footnote_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="../../stylesheets/poll_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27poll_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="poll"  />
    <link href="../../stylesheets/spoiler-alert_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27spoiler-alert_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="../../stylesheets/chat_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27chat_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(max-width: 39.99999rem)" rel="stylesheet" data-target="chat_mobile"  />
    <link href="../../stylesheets/discourse-solved_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-solved_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(max-width: 39.99999rem)" rel="stylesheet" data-target="discourse-solved_mobile"  />
    <link href="../../stylesheets/discourse-topic-voting_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-topic-voting_mobile_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(max-width: 39.99999rem)" rel="stylesheet" data-target="discourse-topic-voting_mobile"  />
    <link href="../../stylesheets/chat_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27chat_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(min-width: 40rem)" rel="stylesheet" data-target="chat_desktop"  />
    <link href="../../stylesheets/discourse-topic-voting_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27discourse-topic-voting_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(min-width: 40rem)" rel="stylesheet" data-target="discourse-topic-voting_desktop"  />
    <link href="../../stylesheets/poll_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460.css_%3b%20filename_%3dUTF-8%27%27poll_desktop_790af2e09dec4f80b03e04c757d6ba29e7ae3460a97f.css?__ws=d.clarkee.co.uk" media="(min-width: 40rem)" rel="stylesheet" data-target="poll_desktop"  />

  <link href="../../stylesheets/common_theme_57_2b2f1b92f8727e7da2866f327e36ad944c6960db.css_%3b%20filename_%3dUTF-8%27%27common_theme_57_2b2f1b92f8727e7da2866f327e36ad944c6960dba97f.css?__ws=d.clarkee.co.uk" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="57" data-theme-name="0x00sec-v2"/>
    <link href="../../stylesheets/mobile_theme_4_7b59060f894813801912cfad9deff99ebb9e9a38.css_%3b%20filename_%3dUTF-8%27%27mobile_theme_4_7b59060f894813801912cfad9deff99ebb9e9a38a97f.css?__ws=d.clarkee.co.uk" media="(max-width: 39.99999rem)" rel="stylesheet" data-target="mobile_theme" data-theme-id="4" data-theme-name="mobile chrome"/>
    <link href="../../stylesheets/desktop_theme_46_ae6f300d6e65399f845f6707524095726ad69a96.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_46_ae6f300d6e65399f845f6707524095726ad69a96a97f.css?__ws=d.clarkee.co.uk" media="(min-width: 40rem)" rel="stylesheet" data-target="desktop_theme" data-theme-id="46" data-theme-name="header links v2"/>

    <link rel="stylesheet" href="../../../external.html?link=https://s3.amazonaws.com/0x00sec/monokai-sublime.css">
<script src="../../../external.html?link=https://s3.amazonaws.com/0x00sec/highlight.pack.js" nonce="enLhANEIwFY2mnExBO8xJO3Ad"></script>
<script defer="" src="../../theme-javascripts/05954ff525aceb8daa8b585f92d758d311ae7077.js_%3b%20filename_%3dUTF-8%27%2705954ff525aceb8daa8b585f92d758d311ae7077a97f.js?__ws=d.clarkee.co.uk" data-theme-id="40" nonce="enLhANEIwFY2mnExBO8xJO3Ad"></script>
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Routing Protocols ~ OSPF ~ Part II&#39;" href="658.rss" />
    <meta property="og:site_name" content="0x00sec - The Home of the Hacker" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://0x00sec.s3.amazonaws.com/original/1X/16809e913ffe55f4942fefe79328def15cdc2814.png" />
<meta property="og:image" content="https://0x00sec.s3.amazonaws.com/original/1X/16809e913ffe55f4942fefe79328def15cdc2814.png" />
<meta property="og:url" content="https://d.clarkee.co.uk/t/routing-protocols-ospf-part-ii/658" />
<meta name="twitter:url" content="https://d.clarkee.co.uk/t/routing-protocols-ospf-part-ii/658" />
<meta property="og:title" content="Routing Protocols ~ OSPF ~ Part II" />
<meta name="twitter:title" content="Routing Protocols ~ OSPF ~ Part II" />
<meta property="og:description" content="Hello homies and homettes. I hope you are all having a great day so far. Welcome to Part 2 of the routing protocols series regarding OSPF. This time we are going to dig deeper in OSPF and try to visualize the ‚Äúlow-level‚Äù detail behind it. Allow me to take your hand and walk you through OSPF once again, but this time there is a lot more coming at you so hold my hand tight. I hope the OSPF introduction  part made you curious and you can‚Äôt wait to learn more about this bad boy. No rant or personal ..." />
<meta name="twitter:description" content="Hello homies and homettes. I hope you are all having a great day so far. Welcome to Part 2 of the routing protocols series regarding OSPF. This time we are going to dig deeper in OSPF and try to visualize the ‚Äúlow-level‚Äù detail behind it. Allow me to take your hand and walk you through OSPF once again, but this time there is a lot more coming at you so hold my hand tight. I hope the OSPF introduction  part made you curious and you can‚Äôt wait to learn more about this bad boy. No rant or personal ..." />
<meta property="og:article:section" content="Networking" />
<meta property="og:article:section:color" content="8C6238" />
<meta property="og:article:tag" content="ospf" />
<meta property="og:article:tag" content="routing" />
<meta property="og:article:tag" content="networking" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="6 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="9 ‚ù§" />
<meta property="article:published_time" content="2016-06-24T22:58:18+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    <div id="top-navbar" class="container">
<span id="top-navbar-links" style="display:none;">
  <!--<a href="https://git.0x00sec.org" class="dow-menu">GitLab</a>  
  <a href="https://blog.0x00sec.org/irc" class="dow-menu">IRC</a>!-->
  <a href="../../../external.html?link=https://init.0x00sec.org/" class="dow-menu">Init</a>
  <a href="../../../external.html?link=https://discord.gg/c6BHVfn" class="dow-menu">Discord</a>
  <a href="../../../external.html?link=https://init.0x00sec.org/?partners" class="dow-menu">Partners</a>
</span>
</div>
    <header>
  <a href="../../index.html">0x00sec - The Home of the Hacker</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="658.html">Routing Protocols ~ OSPF ~ Part II</a>
    </h1>

      <div class="topic-category" itemscope itemtype="../../../external.html?link=http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="../../../external.html?link=http://schema.org/ListItem">
            <a href="../../c/networking/63.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #8C6238'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Networking</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='../../tag/ospf.html' class='discourse-tag' rel="tag">ospf</a>, 
            <a href='../../tag/routing.html' class='discourse-tag' rel="tag">routing</a>, 
            <a href='../../tag/networking.html' class='discourse-tag' rel="tag">networking</a>
        </div>
      </div>
  </div>

  

    <div itemscope itemtype='../../../external.html?link=http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Routing Protocols ~ OSPF ~ Part II'>
      <link itemprop='url' href='658.html'>
      <meta itemprop='datePublished' content='2016-06-24T22:58:18Z'>
        <meta itemprop='articleSection' content='Networking'>
      <meta itemprop='keywords' content='ospf, routing, networking'>
      <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
        <meta itemprop='name' content='0x00sec - The Home of the Hacker'>
          <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
            <meta itemprop='url' content='../../uploads/default/original/2X/c/c5e37f667fd0fe006ffa67653c662fb64fec597e.html'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/_py.html'><span itemprop='name'>_py</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="658.html">

                <link itemprop="image" href="../../../0x00sec.s3.amazonaws.com/original/1X/16809e913ffe55f4942fefe79328def15cdc2814.png">

              <span class="crawler-post-infos">
                  <time  datetime='2016-06-24T22:58:18Z' class='post-time'>
                    June 24, 2016, 10:58pm
                  </time>
                  <meta itemprop='dateModified' content='2016-09-13T21:04:59Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Hello homies and homettes. I hope you are all having a great day so far. Welcome to Part 2 of the routing protocols series regarding OSPF. This time we are going to dig deeper in OSPF and try to visualize the ‚Äúlow-level‚Äù detail behind it. Allow me to take your hand and walk you through OSPF once again, but this time there is a lot more coming at you so hold my hand tight. I hope the OSPF <a href="../../../external.html?link=https://0x00sec.org/t/routing-protocols-ospf/647/7">introduction</a>  part made you curious and you can‚Äôt wait to learn more about this bad boy. No rant or personal opinion this time, let‚Äôs get straight to the topic. Get ready to get bombarded with more theory lads. I will try to add as many pictures as possible so it can be entertaining and fun to read. The topics that will be covered in this article are:</p>
<ul>
<li>The OSPF big picture</li>
<li>Metric</li>
<li>Neighbor Relationships</li>
</ul>
<p>Let‚Äôs start off with the picture behind OSPF. In the previous article, we talked about areas but we didn‚Äôt get into enough detail. We were mainly focused on one and the most important one in order to get OSPF working, the area 0. Let‚Äôs have a look at the picture below.</p>
<p><img src="../../../0x00sec.s3.amazonaws.com/original/1X/16809e913ffe55f4942fefe79328def15cdc2814.png" width="478" height="327"></p>
<p>This is our topology for now. R1, R2, R3 are routers as you may have guessed and they belong to area 0. However, area 0 has its limitations. The routers in a single area have to have the same link state database. What do I mean by that? You can either see it as a topology table or as the information the routers use in order to generate their routing table. Imagine those 3 routers being connected to 300 different networks. So R1 is gonna send all 300 networks to R3, R3 is going to send all 600 networks to R2(his and R1‚Äôs) and R2 is going to send his 300 networks to R3. In the end, each of these blue mofos will have 900 networks in their routing table. If you don‚Äôt understand why, the key is ‚Äúlink state.‚Äù I have a <a href="../../../external.html?link=http://packetlife.net/blog/2008/oct/2/distance-vector-versus-link-state/" rel="noopener nofollow ugc">link</a>  for you to read in case you are confused, which will make you understand why each router has added to its routing table the networks of the others as well.  Don‚Äôt hesitate, give it a shot.</p>
<p>Single area OSPF does not support the key concept I mentioned in my previous article which is <em><strong>summarization</strong></em>. Summarization will allow us to take a bunch of networks and sum them up in fewer advertisements. The goal is to use one advertisement. So let‚Äôs say we have the networks <code>192.168.1</code>, <code>192.168.2</code>, <code>192.168.3</code> etc. We could sum all these up into 192.168.0.0/16. If you don‚Äôt understand why /16, then you need some subnetting revision my friends, but don‚Äôt worry because I got your back. You can either have a look at my subnetting <a href="../../../external.html?link=https://0x00sec.org/t/a-dive-into-subnetting/468/4">article</a>, or if my article makes no sense, you can google!</p>
<p>What that says to the router who did the summarization is ‚ÄúHey, I have every single network that starts with 192.168.‚Äù So practically we replaced a routing table with a huge number of subnets with a routing table of just one. Much smarter and more efficient, right? That manoeuvre makes 2 things possible:</p>
<ol>
<li>
<p>The router is faster because the less routes his friends gets to know, the faster he is able to route the packets.</p>
</li>
<li>
<p>Fault Containment. What do I mean by that? If one of the networks R1 is connected went down, he would have to send an update about it to the rest of the routers. Why? Because all the routers in the area have to have the same routing information. It‚Äôs the requirement of a Link State protocol. And since you may not know this, but, OSPF is a Link State routing protocol. Assume R2 goes offline. Then 300 networks would disappear. R1 and R3 would be like ‚Äúoh crap they are down, I repeat they are down. Mark them as unreachable.‚Äù Now assume R2 is back again. R1 and R3 back at it again saying ‚ÄúWow wow they are back they are back. They are actually reachable.‚Äù and then boom, the routers blow up. Ok they don‚Äôt blow up but they are definitely being confused because they are constantly processing these routing updates and they end up dropping the traffic because there is no way of containment.  Imagine that situation happening, because it‚Äôs possible. It‚Äôs an infinite loop.</p>
</li>
</ol>
<p><strong>WELCOME TO PART 2</strong></p>
<p><img src="../../../0x00sec.s3.amazonaws.com/original/1X/6b677a1a88aa4834388f79489228a385236792e0.png" width="556" height="500"></p>
<p>I know what you are thinkng. This is a magnificent piece of art and it‚Äôs also so confusing. I know, I know but have no fear. I promise I will do my best to explain it to you as simply as possible.</p>
<p>Let me introduce you to a key term, known as Area Border Router. Where does the name come from? They sit on the border of the area. I know, it still does not make sense so let‚Äôs ‚Äúzoom in‚Äù a little bit in the picture. Specifically I‚Äôm going to zoom in the part of the picture where R ‚Äúsits‚Äù on the border between Area 0 and Area 1. This is what it actually looks like.</p>
<p><img src="../../../0x00sec.s3.amazonaws.com/original/1X/71b136c292a322cf2517c6d478a9b886ab7cafe1.png" width="690" height="353"></p>
<p>By putting an interface in more than one area, we make R1 an Area Border Router, aka ABR. What is an ABR able to do?</p>
<p>Summarize - Fewer advertisements as I mentioned before.</p>
<p>Fault Containment - For example, if a router dies in Area 0, what‚Äôs going to happen? I want your full attention now. Focus! <strong>Fault containment is depending 100% on summarization</strong>. And since I love examples, let me give you one.</p>
<p>Looking at the picture above, let‚Äôs assume Area 1 has a bunch of routers belonging to the <code>192.168.1</code>, <code>192.168.2</code>, <code>192.168.3</code>, <code>192.168.4</code>, <code>192.168.etc</code> networks. In other words, we have all the 192.168 networks in that area. First of all let me tell you this. Fyi, you can set up an ABR that does not do summarization. So he can take all those networks and pass them through from Area 1 to Area 0. That would totally defeat the purpose of having areas but that‚Äôs the default setting when configuring OSPF.</p>
<p>Back to our example. If something goes wrong with the 192.168.1 network, then the router would send a message to all the routers including ABR and ABR would pass it on Area 0. But if we implement summarization by summing all those networks up to 192.168.0.0/16, ABR would think ‚ÄúHmm, fair enough, the networks on my left are all in the 192.168 network.‚Äù</p>
<p>Then what‚Äôs going to happen if the 192.168.3 network goes down in Area 0? As soon as the info about the router going offline reaches the ABR he is going to think "I know he is down, but I‚Äôm not going to pass that on because frankly nobody on my right(Area 0) even knows that the 192.168.3 exists. Think about it for a second. The routers in Area 0 have no clue about the 192.168.3 network. All they know about is the 192.168.0.0 network. So even if the ABR passes on the info that a network went down from Area 1 to Area 0, the cheeky mofos on the right would think ‚ÄúWell, ok but, we don‚Äôt have any 192.168.3 network in our routing table anyway. Why would we care?‚Äù It kinda supresses the update if you can tell.</p>
<p>Something tells me you have a question though. ‚ÄúWhat if computer B from Area 0, wants to send a message to a computer X in Area 1?‚Äù What‚Äôs going to happen? The message is going to travel through each node of Area 0 thinking that X is alive but once it reaches ABR (ABR has the specific information. He knows everything that is going on in Area 1) he is going to say ‚ÄúSorry mate, that network is down, I‚Äôm going to drop your packet. Good luck next time.‚Äù</p>
<p>Do you see how convenient this is? Do you see how much more efficient this is than sending messages all the time from Area to Area when someone goes offline? An area could have 500 routers. I cringe just by thinking about it. So that‚Äôs the job of an Area Border Router.</p>
<p>Moving on, looking at the first picture, there is a term standing on the right side named as ‚ÄúAutonomous System Boundary Router‚Äù. Confusing term isn‚Äôt it? Autonomous System Boundary Router connects you to networks outside of your own, such as the Internet. You can see it as a boundary of the OSPF network as a whole. Big concept is about to be thrown at you.</p>
<p><strong>~ ABR and ASBR are the only routers in OSPF that can summarize. ~</strong></p>
<p>The rest of the routers inside an area can‚Äôt summarize. They don‚Äôt have this ability. The only places they can summarize are on the border of an area (ABR) and on the border of the OSPF network as a whole (ASBR). I hope it makes sense. Keep in mind they don‚Äôt become ABR and ASBR by themselves. We, as network admins, configure them that way.</p>
<p>Two more design rules worth mentioning:</p>
<ol>
<li>
<p>Area 0 is always the first area you create. When you first start building your area, you have to start with area 0, aka Backbone Area which goes along with the second rule.</p>
</li>
<li>
<p>All others areas have to connect directly to the backbone. Meaning (have a look at the second picture), Area 2 has to have a router that has an interface in the backbone and one interface in area 2. Same goes for area 1‚Äôs router.</p>
</li>
</ol>
<p>In conclusion, OSPF multi area environment is created solely for the reason of summarization. You would not want to break your network into multiple areas if you didn‚Äôt have the need for summarization. I know I‚Äôm repeating the word ‚Äúsummarization‚Äù quite a lot but it‚Äôs an important term to grasp, that‚Äôs why.</p>
<hr>
<p><strong>Solidifying The  OSPF Neighbor Relationship</strong></p>
<p>Let‚Äôs talk about neighbor relationships now. This is the key in order to understand how OSPF works and how to troubleshoot it if something goes wrong. More than 95% of the time, OSPF troubleshooting deals with the neighbor relationship because if 2 routers can form neighbors, then there is a high chance of them exchanging routes. The are a couple of steps before that happens though.</p>
<p><img src="../../../0x00sec.s3.amazonaws.com/original/1X/de51b7a5a1cda4a8f2338f6acfa2af9ec3ee18da.png" width="431" height="96"></p>
<p><strong>STEP 1</strong></p>
<ul>
<li>Determine their Router-ID</li>
</ul>
<p>If you remember from the last article, R1 is going to send a hello message in order to form a neighbor. Before it ever does that, it has to identify itself by picking it‚Äôs router ID. I know, confusing sentence once again but I‚Äôm here to explain it to you. What is the router ID? It‚Äôs the router‚Äôs name in the OSPF process. Think of yourself, while saying hello to somebody, most of the time you say ‚ÄúHello, my name is x1337x.‚Äù The router‚Äôs name can even be an IP address. The command in order to configure the ID in a Cisco device at least is <code>Router-ID name</code>. However, if you don‚Äôt type in a router ID, the default option (talking again about Cisco devices) is either the loopback address or the highest active interface when OSPF starts. What do I mean by the second part of the last sentence? If your router‚Äôs interfaces are assigned with the IPs 10.0.0.1, 172.20.0.3, 192.168.1.4, it‚Äôs going to pick the 192.168.1.4 as its router ID.</p>
<p><strong>STEP 2</strong></p>
<ul>
<li>Add interfaces to the Link State database. <span class="spoiler"> network command </span>
</li>
</ul>
<p>Let me refresh your memory about the cisco ‚Äúnetwork‚Äù command.</p>
<ol>
<li>Identifies which interface(s) to use to send hello packets.</li>
<li>Identifies which network(s) to advertise.</li>
</ol>
<p><img src="../../../0x00sec.s3.amazonaws.com/original/1X/872cf74bfa64b874b426871e3ebdae32ae17e1ad.png" width="690" height="459"></p>
<p>So if I want to send hello packets on the 172.168.1 interface and at the same time advertise it on other interfaces I have to type in the Cisco IOS <code>network 172.168.1.0 0.0.0.255 area 0</code>. And in case we want to advertise the 10.0.1 network to R2, we would have to type  <code>network 10.0.1.0 0.0.0.255 area 0</code>.</p>
<p><strong>STEP 3</strong></p>
<ul>
<li>Send hello messages on chosen interfaces.</li>
</ul>
<p>This step includes quite a lot of info and I mentioned some of them in the previous article. But here is a bigger list:</p>
<ol>
<li>Router ID</li>
<li>Hello and Dead Timers *</li>
<li>Network Mask *</li>
<li>Area ID *</li>
<li>Neighbors</li>
<li>Router Priority</li>
<li>DR / BRD IP Address</li>
<li>Authentication Password *</li>
</ol>
<p>That‚Äôs all I can remember right now. The asterisks mean that those MUST match between the routers.</p>
<p><img src="../../../0x00sec.s3.amazonaws.com/original/1X/68b22a918ee45c22fa7791e99086d72af0c69833.png" width="435" height="341"></p>
<p>Think of the hello message as an envelope and when the router receives it, it pulls out the piece of paper that is inside the envelope and reads all the info. Let‚Äôs focus on the DR / BDR right now because there is a tiny theory behind those. Those? Yes those! DR / BDR are the designated and backup designated router respectively. Let‚Äôs say we have the 0x00sec company that looks like this:</p>
<p><img src="../../../0x00sec.s3.amazonaws.com/original/1X/6177d92d9d883dca1ecb9741556e72a29dc69dee.png" width="690" height="494"></p>
<p>Imagine all those routers representing difference offices in different cities and they are connected to the central building of 0x00sec. Of course, there will be a bunch of routers in the 0x00sec office as well. Let‚Äôs have a closer look, shall we?</p>
<p><img src="../../../0x00sec.s3.amazonaws.com/original/1X/9017eabf69fd680f8c6b303a86caebd988eda072.png" width="690" height="385"></p>
<p>Imagine those lines that are drawn on the routers representing the interfaces for the external 0x00sec offices. There is a problem though. All these routers without the DR / BDR concept will form neighbor relationship. You may be asking ‚ÄúIsn‚Äôt that what we want?‚Äù Well, sure, but what if one of the links goes down? The router is going to send an update to all of his neighbors ‚ÄúDude, office here in freaking Iceland, I‚Äôm down!‚Äù. When the routers receive this message will update their neighbors and so on. You can see where I‚Äôm going with this. All of them are going to be like ‚Äúaaah office down‚Äù ‚Äúaaah office down‚Äù. C-h-a-o-s.</p>
<p>In order to prevent, there is this DR / BDR concept, where one router will be elected as the designated router and the other one will be the backup designated router. This way, when something goes wrong, the routers are going to send their updates ONLY to the DR and BDR. Thus, the rest of the routers won‚Äôt be full neighbors with the router that went down. They will see him but they will think ‚Äúyou know what? there is a DR.‚Äù Meaning, everybody will form full neighbor relationship only with the DR. So when a router goes down, he will send his update to the DR and then DR will get that message out to the rest of peeps, therefore, stopping the chaos I mentioned before. So the router priority that was in the list above identifies who is going to the DR and BDR. The one with the highest priority becomes the DR.</p>
<p>If you are still confused about this concept don‚Äôt worry, it‚Äôs advanced, Just focus on the high level view of it.</p>
<p><strong>STEP 4</strong></p>
<ul>
<li>Receive Hello</li>
</ul>
<p>The router will receive the hello message and does a check of his compatibility with this these fields below:</p>
<ol>
<li>Check hello / dead timers</li>
<li>Check subnet masks</li>
<li>Check authentication</li>
<li>Check area ID</li>
</ol>
<p>IF AND ONLY IF they are compatible he will move to the next step.</p>
<p><strong>STEP 5</strong></p>
<ul>
<li>Send Hello Reply</li>
</ul>
<p>Specifically, the router is going to think ‚ÄúAm I listed already as your neighbor in your hello packet? If yes, then I will reset your dead timer. If no, I will add you as my new neighbor.‚Äù (Remember, each hello packet includes the neighbors of the router). So what do I mean with the reset dead timer part? Let‚Äôs say the router who sends the message sends hello every 10 seconds and its dead timer is 30 seconds. So if the neighbor router has already formed a relationship with the one who sent the hello message is going to say ‚ÄúI will reset your dead timer back to 30 seconds and I will wait for your next hello in 10 seconds so you can prove me you are still reachable.‚Äù</p>
<p>Wow, this is insane. I‚Äôm looking back to what I wrote and there is so much more new info thrown at you. I think it‚Äôs already too much to handle so I will stop the steps here or maybe add them later if I see that you guys can take it. Either way, as you can see OSPF is huge but it‚Äôs also quite awesome and secure. I hope when you read that sentence you have understood a bit of what I‚Äôm saying at least if not all. I hope this article has been informative and I thank you for taking the time to read it. As always post your questions down below or PM me.</p>
<p><em>P.S The article is quite lengthy and I did my best to correct as many syntax mistakes as possible. If you find any, don‚Äôt hesitate to let me know. English isn‚Äôt my main language.Thank you.</em></p>
<p>Later‚Ä¶</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="7" />
              <span class='post-likes'>7 Likes</span>
            </div>


            
          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/Cromical.html'><span itemprop='name'>Cromical</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2016-06-25T05:27:10Z' class='post-time'>
                    June 25, 2016,  5:27am
                  </time>
                  <meta itemprop='dateModified' content='2016-06-25T05:27:10Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Great job. Well written, and frankly one of the best articles I‚Äôve seen on the subject. Keep the great work up!</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>


            
          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/0x00pf.html'><span itemprop='name'>0x00pf</span></a>
                (pico)
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2016-06-25T08:19:59Z' class='post-time'>
                    June 25, 2016,  8:19am
                  </time>
                  <meta itemprop='dateModified' content='2016-06-25T08:19:59Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Fantastic <span class="mention">@airth</span>. Congrats!</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>


            
          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../index.html' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../categories.html' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../guidelines.html' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../tos.html' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../privacy.html' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    <script src="../../../external.html?link=http://instant.page/3.0.0" type="module" defer="" integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1" nonce="enLhANEIwFY2mnExBO8xJO3Ad"></script>
  </body>
  
</html>
